;/*FB_PKG_DELIM*/

__d("WAWebCarouselScrollButton.react",["WAWebChevronCustomIcons","WAWebChevronIcon.react","WAWebL10N","WAWebUnstyledButton.react","fbs","react","useWAWebWindowSize"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useLayoutEffect,m=u.useRef,p=u.useState,_={scrollButton:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",zIndex:"x1lfen1e",$$css:!0},scrollStartButton:{insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},scrollEndButton:{insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},chevron:{color:"xo1mcw5",$$css:!0}};function f(e){var t=e.direction,n=e.onClick,a=e.xstyle,i=r("WAWebL10N").isRTL()?[o("WAWebChevronIcon.react").ChevronIcon,o("WAWebChevronCustomIcons").ChevronLeftCustomIcon]:[o("WAWebChevronCustomIcons").ChevronLeftCustomIcon,o("WAWebChevronIcon.react").ChevronIcon],l=i[0],s=i[1],u=t==="start"?l:s,d=t==="start"?_.scrollStartButton:_.scrollEndButton,m=t==="start"?r("fbs")._(/*BTDS*/"Pr\u00e9c\u00e9dente"):r("fbs")._(/*BTDS*/"Suivante");return c.jsx(r("WAWebUnstyledButton.react"),{onClick:n,xstyle:[d,_.scrollButton,a],testid:void 0,"aria-label":m,children:c.jsx("div",{className:"x6s0dn4 x16w0wmm x1c9tyrk xeusxvb x1pahc9y x1ertn4p x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1pyc6se x1mlb2bo x16pkwpw xqe4bef x11g758w x78zum5 xl56j7k xi881uo xyg06dn x17gydlx xphzr9 x1q665ic xxm48n2",children:c.jsx(u,{xstyle:_.chevron})})})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.isFullUnit,n=e.isLoading,o=e.itemsLoaded,a=e.itemWidth,i=m(),l=p("start"),s=l[0],u=l[1],c=p(!1),_=c[0],f=c[1],g=r("useWAWebWindowSize")();d(function(){if(n||t)return f(!1);var e=i.current;e!=null&&(e.scrollWidth>e.clientWidth?f(!0):f(!1))},[g.width,n,o,t]);var h=function(t){t===void 0&&(t=a);var e=i.current;if(e!=null){var n=Math.abs(e.scrollLeft);if(n<a*1.5)e.scrollTo({left:0,behavior:"smooth"}),u("start");else{var o=t*(r("WAWebL10N").isRTL()?1:-1);e.scrollBy({left:o,behavior:"smooth"}),u(n===0?"start":"middle")}}},y=function(t){t===void 0&&(t=a);var e=i.current;if(e!=null){var n=Math.abs(e.scrollLeft);e.scrollWidth-(e.clientWidth+n)<a*1.5?(e.scrollTo({left:e.scrollWidth*(r("WAWebL10N").isRTL()?-1:1),behavior:"smooth"}),u("end")):(e.scrollBy({left:t*(r("WAWebL10N").isRTL()?-1:1),behavior:"smooth"}),u(e.clientWidth+n===e.scrollWidth?"end":"middle"))}},C=function(){var e=i.current;e!=null&&(Math.abs(e.scrollLeft)===0?u("start"):e.scrollWidth===Math.ceil(e.clientWidth+Math.abs(e.scrollLeft))?u("end"):u("middle"))};return{containerRef:i,scrollStartBy:_?h:null,scrollEndBy:_?y:null,position:s,handleScroll:C}}l.CarouselScrollButton=f,l.useScrollableContainer=g}),226);
__d("WAWebWamEnumChannelLinkShareDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({WHATSAPP:1,STATUS:2,EXTERNAL:3,QR_CODE:4});i.CHANNEL_LINK_SHARE_DIRECTION=e}),66);
__d("WAWebWamEnumChannelLinkShareScreen",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONTEXT_CARD:1,CHANNEL_INFO:2,CHANNEL_THREAD:3,SHARE_LINK_SCREEN:4,UPDATES_TAB:5,QR_CODE_SCREEN:6});i.CHANNEL_LINK_SHARE_SCREEN=e}),66);
__d("WAWebChannelLinkShareWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelLinkShareDirection","WAWebWamEnumChannelLinkShareEntryPoint","WAWebWamEnumChannelLinkShareScreen"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({ChannelLinkShare:[4728,{channelLinkShareDirection:[1,o("WAWebWamEnumChannelLinkShareDirection").CHANNEL_LINK_SHARE_DIRECTION],channelLinkShareEntryPoint:[2,o("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT],channelLinkShareScreen:[4,o("WAWebWamEnumChannelLinkShareScreen").CHANNEL_LINK_SHARE_SCREEN],cid:[3,e.TYPES.STRING],unifiedSessionId:[5,e.TYPES.STRING],updatesTabSessionId:[6,e.TYPES.INTEGER]},[1,1,1],"regular"]},{ChannelLinkShare:[]});l.ChannelLinkShareWamEvent=s}),98);
__d("WAWebMediaPanelHeaderTestIds",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({CLOSE_BUTTON:"media-panel-header-close-button",DELETE_BUTTON:"media-panel-header-delete-button",DOWNLOAD_BUTTON:"media-panel-header-download-button",EDIT_PDF_BUTTON:"media-panel-header-edit-pdf-button",FORWARD_BUTTON:"media-panel-header-forward-button",GO_TO_MESSAGE_BUTTON:"media-panel-header-go-to-message-button",KEEP_BUTTON:"media-panel-header-keep-button",MORE_MENU_BUTTON:"media-panel-header-more-menu-button",PIN_BUTTON:"media-panel-header-pin-button",REACTIONS_BUTTON:"media-panel-header-reactions-button",REPLY_BUTTON:"media-panel-header-reply-button",SEARCH_PDF_BUTTON:"media-panel-header-search-pdf-button",STAR_BUTTON:"media-panel-header-star-button",UNKEEP_BUTTON:"media-panel-header-unkeep-button",UNPIN_BUTTON:"media-panel-header-unpin-button",UNSTAR_BUTTON:"media-panel-header-unstar-button"}),l=e;i.default=l}),66);
__d("WAWebMessageContainer.react",["cx","WAWebClassnames","WAWebWrapperConstants","WAWebWrapperGetTailIcon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t,n=e.children,r=e.isSentByMe,a=o("WAWebClassnames").classnamesConvertMeToStylexPlease((t={"message-out":r,"message-in":!r},t._aml0=!0,t)),i=o("WAWebClassnames").classnamesConvertMeToStylexPlease("_amk4","_amk5","tail-override-left"),l=o("WAWebWrapperGetTailIcon").getTailIcon(o("WAWebWrapperConstants").MSG_DIRECTION.IN);return u.jsx("div",{className:a,children:u.jsx("div",{className:i,children:u.jsxs("div",{className:"_amk6",children:[u.jsx("div",{className:"_amk7","aria-hidden":"true",children:u.jsx(l,{})}),n]})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WAWebMexFetchNewsletterInsightsJobQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterAdminInsightsResponse",kind:"LinkedField",name:"xwa2_newsletter_admin_insights",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"newsletter_id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterState",kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metrics_status",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterAdminInsightsMetricResult",kind:"LinkedField",name:"result",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterAdminInsightsValues",kind:"LinkedField",name:"values",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebMexFetchNewsletterInsightsJobQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebMexFetchNewsletterInsightsJobQuery",selections:t},params:{id:"9853618868050977",metadata:{},name:"WAWebMexFetchNewsletterInsightsJobQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("WAWebMexFetchNewsletterInsightsJob",["WATimeUtils","WAWebMexClient","WAWebMexFetchNewsletterInsightsJobQuery.graphql","WAWebNewsletterInsightUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=e!==void 0?e:e=n("WAWebMexFetchNewsletterInsightsJobQuery.graphql");function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i,l=e.newsletterJid,u=e.requestedMetrics,c=yield o("WAWebMexClient").fetchQuery(s,{input:{newsletter_id:l,metrics:u}}),d=(t=(n=c.xwa2_newsletter_admin_insights)==null?void 0:n.result)!=null?t:[],m=(r=c.xwa2_newsletter_admin_insights)==null?void 0:r.last_update_time,p=d.reduce(function(e,t){var n=t.id,r=t.values;return n==null||r==null||e.set(n,r),e},new Map);return{metricValueMap:p,lastUpdateTime:m==null?o("WATimeUtils").unixTime():o("WATimeUtils").castToUnixTime(Number.parseInt(m,10)),dataStatus:o("WAWebNewsletterInsightUtils").getNewsletterInsightsDataStatus((a=(i=c.xwa2_newsletter_admin_insights)==null?void 0:i.metrics_status)!=null?a:"MISSING")}}),c.apply(this,arguments)}l.mexFetchNewsletterInsights=u}),98);
__d("WAWebNewsletterAdminInsightsFailedToLoad.react",["fbt","WAWebButton.react","WAWebFbtCommon","WAWebFlex.react","WAWebText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onClick;return u.jsxs(o("WAWebFlex.react").FlexColumn,{justify:"center",align:"center",paddingBottom:4,children:[u.jsx(o("WAWebText.react").WAWebTextMuted,{marginTop:12,marginBottom:2,children:s._(/*BTDS*/"Impossible de charger les donn\u00e9es")}),u.jsx(o("WAWebButton.react").WAWebButtonSimplified,{onClick:t,children:r("WAWebFbtCommon")("Try again")})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WAWebNewsletterChatItem.react",["WAWebDetailImage.react","WAWebFlex.react","WAWebText.react","WAWebUISpacing","react","stylex","useWAWebModelValues"],(function(t,n,r,o,a,i,l){var e,s,u=e||(e=r("react")),c=92,d=72,m=64,p=20,_={container:{width:"xni59qk",minHeight:"x1aes4zu",cursor:"x1ypdohk",$$css:!0},text:{width:"xni59qk",minHeight:"xisnujt",textAlign:"x2b8uid",overflowX:"x6ikm8r",overflowY:"x10wlt62",breakWord:"x9hmgtc",textWrap:"x9wz5kn",$$css:!0}};function f(e){var t=e.newsletter,n=o("useWAWebModelValues").useOptionalModelValues(t.newsletterMetadata,["name","inviteCode","verified"]);return n==null?null:u.jsxs(o("WAWebFlex.react").FlexColumn,{align:"center",xstyle:_.container,children:[u.jsx(o("WAWebDetailImage.react").DetailImage,{id:t.id,size:m,checkmarkIcon:(n==null?void 0:n.verified)===!0?"chat-list":null,showOutline:!0}),u.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(_.text,o("WAWebUISpacing").uiMargin.top8,o("WAWebUISpacing").uiMargin.bottom8),{children:u.jsx(o("WAWebText.react").WAWebTextSmall,{color:"primary",textWrap:"ellipsis",children:n==null?void 0:n.name})}))]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebNewsletterGrowthChartProcessors",["WALogger","WATimeUtils","WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.reduce(function(e,t){var n=t.timestamp,r=t.value;if(n==null)return e;var a=Number.parseInt(n,10);return Number.isNaN(a)||e.push([o("WAWebNewsletterMetricUtils").roundToNearestDay(a*1e3),r]),e},[]);if(t.sort(function(e,t){return e[0]-t[0]}),t.length===1){var n=t[0][0],r=n-o("WATimeUtils").DAY_MILLISECONDS;t.unshift([r,0])}return t}function u(t,n){if(t.length!==n.length)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][insights][getNetFollowsData] follows and unfollows length is not equal"]))).tags("newsletter").sendLogs("newsletter-insights-growth-chart-follows-unfollows-length-mismatch"),[];for(var r=[],a=0;a<t.length;a++)r.push([t[a][0],t[a][1]-n[a][1]]);return r}var c={getMetrics:function(){var e;return[{id:(e=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowsPerDay,type:"FOLLOWS",group_by:{number_of_days:1},limit:e.INSIGHT_DAYS_COVERED},{id:e.NewsletterInsightMetricQuery.UnfollowsPerDay,type:"UNFOLLOWS",group_by:{number_of_days:1},limit:e.INSIGHT_DAYS_COVERED}]},process:function(t){var e,n,r=s((e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowsPerDay))!=null?e:[]),a=s((n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UnfollowsPerDay))!=null?n:[]),i=u(r,a);return i.length===0?{growthChartData:[]}:{growthChartData:[i,r,a]}}};l.FOLLOWER_GROWTH_PROCESSOR=c}),98);
__d("WAWebNewsletterInsightCountryDataProcessors",["WAWebCountriesUtils","WAWebNewsletterMetricUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=10,s=10;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebCountriesUtils").getCountries({filter:o("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.WHATSAPP_REGISTRATION});return new Map(e)}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield u(),n=e.reduce(function(e,n){var r=n.countryCode,o=n.percentage,a=n.value;if(r==null)return e;var i=t.get(r);if(i==null)return e;var l=Math.round((o+Number.EPSILON)*1e4)/1e4;return e.push({label:i,value:a,percentage:l,key:r}),e},[]);return n}),m.apply(this,arguments)}function p(e,t){var n=e.reduce(function(e,n){var r=n.country,o=n.value;return r==null||o<s||e.push({countryCode:r.toUpperCase(),percentage:o/t,value:o}),e},[]);return n.sort(function(e,t){return t.value-e.value})}var _={getMetrics:function(){var t;return[{id:(t=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod,type:"UNIQUE_VISITORS",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED}},{id:t.NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByCountry,type:"UNIQUE_VISITORS",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED,country:!0},limit:e}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByCountry))!=null?n:[];return{reachByCountry:p(a,r)}}},f={getMetrics:function(){var t;return[{id:(t=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowersOverPeriod,type:"FOLLOWER",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED}},{id:t.NewsletterInsightMetricQuery.FollowersOverPeriodByCountry,type:"FOLLOWER",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED,country:!0},limit:e}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriodByCountry))!=null?n:[];return{followersByCountry:p(a,r)}}};l.getCountryBarValues=d,l.REACH_BY_COUNTRY_PROCESSOR=_,l.FOLLOWER_BY_COUNTRY_PROCESSOR=f}),98);
__d("WAWebNewsletterInsightDeltaProcessors",["WAWebNewsletterGatingUtils","WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod,type:"UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}},o("WAWebNewsletterGatingUtils").shouldHideProducerInsightsDeltas()?null:{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NewUniqueVisitorsOverPeriod,type:"NEW_UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}}].filter(Boolean)},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NewUniqueVisitorsOverPeriod))==null?void 0:n[0].value;if(a==null)return{accountsReached:r};var i=r-a,l=i===0?o("WAWebNewsletterMetricUtils").DELTA_INFINITE:a/i;return{accountsReached:r,reachDelta:l}}},s={getMetrics:function(){var e;return[{id:(e=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowersOverPeriod,type:"FOLLOWER",group_by:{number_of_days:e.INSIGHT_DAYS_COVERED}},{id:e.NewsletterInsightMetricQuery.NetFollowsOverPeriod,type:"NET_FOLLOWS",group_by:{number_of_days:e.INSIGHT_DAYS_COVERED}}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriod))==null?void 0:e[0].value,a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod))==null?void 0:n[0].value;if(r==null||a==null)return{};var i=a/(r-a);return{followers:r,netFollows:a,followersDelta:i}}},u={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod,type:"NET_FOLLOWS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}}]},process:function(t){var e,n=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod))==null?void 0:e[0].value;return{netFollows:n}}};l.REACH_WITH_DELTA_PROCESSOR=e,l.FOLLOWER_WITH_DELTA_PROCESSOR=s,l.NET_FOLLOWS_PROCESSOR=u}),98);
__d("WAWebNewsletterInsightsJob",["WAJobOrchestratorTypes","WAWebMexFetchNewsletterInsightsJob","WAWebOrchestratorNonPersistedJob"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getNewsletterAdminInsights",function(){return o("WAWebMexFetchNewsletterInsightsJob").mexFetchNewsletterInsights(e)},{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}l.getNewsletterInsights=e}),98);
__d("WAWebNewsletterLinkShareLogging",["WAWebChannelLinkShareWamEvent","WAWebNewsletterGatingUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.linkShareScreen,n=e.linkShareScreenEntryPoint,r=e.newsletter,a=e.shareDirection;if(o("WAWebNewsletterGatingUtils").isNewsletterLinkShareLoggingEnabled()){var i=new(o("WAWebChannelLinkShareWamEvent")).ChannelLinkShareWamEvent({channelLinkShareDirection:a,channelLinkShareEntryPoint:n,channelLinkShareScreen:t,cid:r.user});i.commit()}}l.logNewsletterLinkShare=e}),98);
__d("WAWebNewsletterLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({similarNewsletterSessionId:null,entryPoint:null});l.default=u}),98);
__d("WAWebNewsletterQuickFollowButton.react",["fbt","WAWebFlex.react","WAWebFollowNewsletter","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebNewsletterUnsubscribeAction","WAWebSpinner.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnfollowNewsletterConfirmationModal.react","WAWebUnstyledButton.react","WDSButton.react","react","useWAWebABPropConfigValue","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useState,m={followButton:{boxSizing:"x9f619",$$css:!0},withBorder:{backgroundColor:"xlwc9sh",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"x15dp1bm",borderStartEndRadius:"x1pg3x37",borderEndEndRadius:"xqi6p0a",borderEndStartRadius:"x102ru31",":hover_boxShadow":"xv52azi",$$css:!0}};function p(e){var t=e.confirmUnfollow,n=e.following,a=e.hasBorder,i=a===void 0?!1:a,l=e.loggingOptions,u=e.newsletter,p=e.onFollowAction,_=e.onFollowSuccess,f=e.onUnfollowAction,g=e.ref,h=d(!1),y=h[0],C=h[1],b=r("useWAWebUnmountSignal")(),v=o("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),S=function(){!b.aborted&&C(!1)},R=function(t){o("WAWebToastManager").ToastManager.open(c.jsx(o("WAWebToast.react").Toast,{msg:t,visibile:!1}))},L=function(r){if(r.preventDefault(),r.stopPropagation(),C(!0),!n){p==null||p(),o("WAWebFollowNewsletter").followDirectoryNewsletter(u,l).then(function(){_==null||_(),R(s._(/*BTDS*/"Vous suivez {channelName}",[s._param("channelName",u.name)]))}).finally(S);return}if(f==null||f(),t){o("WAWebModalManager").ModalManager.open(c.jsx(o("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:u,loggingOptions:l,onClose:S}));return}o("WAWebNewsletterUnsubscribeAction").unsubscribeFromNewsletterAction(u,babelHelpers.extends({deleteLocalModels:!1},l)).then(function(){R(o("WAWebUnfollowNewsletterConfirmationModal.react").getUnfollowNewsletterAnnouncement(u))}).finally(S)},E={enter:L,space:L},k=n?s._(/*BTDS*/"Suivie"):s._(/*BTDS*/"Suivre");if(v){var I=n?"outline":"tonal";return c.jsx(r("WDSButton.react"),{onPress:L,ref:g,testid:void 0,loading:y,label:k,type:"default",variant:I,size:"small"})}return c.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{handlers:E,children:c.jsx(r("WAWebUnstyledButton.react"),{testid:void 0,ref:g,onClick:L,xstyle:[m.followButton,i&&m.withBorder],children:c.jsx(o("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[o("WAWebUISpacing").uiPadding.vert10,o("WAWebUISpacing").uiPadding.horiz16],children:y?c.jsx(o("WAWebSpinner.react").Spinner,{color:"highlight",size:16}):c.jsx(o("WAWebText.react").WAWebTextSectionTitle,{color:n?"secondary":"teal",children:k})})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("useWAWebNewsletterDiscoveryVisibilityLogger",["WAWebMerlinImpressionManager","react","useVPVDImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e){var t=e.cid,n=e.country,a=e.discoverySurface,i=e.newsletterDirectorySectionIndex,l=e.newsletterDirectorySectionName,s=e.newsletterDirectorySessionId,d=e.newsletterEventUnit,m=e.newsletterIndex,p=e.pillSelected,_=e.similarNewslettersSessionId,f=c(),g=f[0],h=f[1],y=c(),C=y[0],b=y[1],v=u(function(){h(p),b(n)},[n,p]),S=u(function(e){var n=e.hiddenTime,r=e.visibleTime;o("WAWebMerlinImpressionManager").logNewsletterDiscoveryVisibility({enter_ts:r,exit_ts:n,itemId:JSON.stringify({channel_id:t,discovery_surface:a,pillSelected:g,country:C}),discoveryData:{cid:t,newsletterDirectorySessionId:s,similarNewslettersSessionId:_,newsletterDirectorySectionIndex:i,newsletterIndex:m,newsletterEventUnit:d,pillSelected:g!=null?g:void 0,country:C!=null?C:void 0,newsletterDirectorySectionName:l,discoverySurface:a}})},[l,s,d,t,C,a,g,i,_,m]);return r("useVPVDImpression")({onVPVDEnd:S,onVPVDStart:v})}l.default=d}),98);
__d("WAWebNewsletterRecommendedV2Item.react",["WAWebBaseShimmerComponents.react","WAWebChatEntryPoint","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebNewsletterAttributionLogging","WAWebNewsletterChatItem.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingContext","WAWebNewsletterQuickFollowButton.react","WAWebOpenNewsletterPreviewChat","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumChannelEventUnit","react","stylex","useWAWebEventTargetValue","useWAWebModelValues","useWAWebNewsletterDiscoveryVisibilityLogger"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var d=u||(u=o("react")),m=e||(e=r("react")),p=d.useCallback,_=d.useContext,f={root:{borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",borderTopColor:"xog00wb",borderInlineEndColor:"x9oqtsu",borderBottomColor:"xk1krjo",borderInlineStartColor:"xqk4rbu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",boxSizing:"x9f619",width:"xj35x94",$$css:!0}};function g(e){var t=e.children,n=e.onClick;return m.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{role:"button",onClick:n,children:m.jsx(o("WAWebFlex.react").FlexColumn,{align:"center",testid:void 0,className:(s||(s=r("stylex")))(f.root,o("WAWebUISpacing").uiPadding.top12,o("WAWebUISpacing").uiPadding.horiz8,o("WAWebUISpacing").uiPadding.bottom8),children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){if(o("WAWebNewsletterGatingUtils").isNewsletterDiscoveryVisibilityLoggingEnabled())return m.jsx(b,babelHelpers.extends({},e));var t=babelHelpers.extends({},(c(e),e));return m.jsx(C,babelHelpers.extends({},t))}h.displayName=h.name+" [from "+i.id+"]";function y(){return m.jsxs(g,{children:[m.jsx(o("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:64,xstyle:o("WAWebUISpacing").uiMargin.bottom8}),m.jsx(o("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:96,xstyle:o("WAWebUISpacing").uiMargin.bottom16}),m.jsx(o("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:66,xstyle:o("WAWebUISpacing").uiMargin.bottom8})]})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.chatEntryPoint,n=e.discoverySurface,a=e.eventSurface,i=e.newsletter,l=e.onFollow,s=o("useWAWebModelValues").useModelValues(i,["newsletterMetadata"]),u=s.newsletterMetadata,c=r("useWAWebEventTargetValue")(o("useWAWebModelValues").useOptionalModelValues(u,["isSubscribedOrOwned"]),["isSubscribedOrOwned"],function(){return(u==null?void 0:u.isSubscribedOrOwned)===!0}),d=_(r("WAWebNewsletterLoggingContext")),f=d.entryPoint,h=d.eventUnit,y=d.similarNewsletterSessionId,C=p(function(){t===o("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters&&o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(y),o("WAWebOpenNewsletterPreviewChat").openNewsletterPreviewChat({identifier:i.id.toString(),chatEntryPoint:t,discoverySurface:n})},[i,t,y,n]),b={eventSurface:a,similarChannelSessionId:y,entryPoint:f,eventUnit:h,discoverySurface:n};return m.jsxs(g,{onClick:C,children:[m.jsx(r("WAWebNewsletterChatItem.react"),{newsletter:i}),m.jsx(r("WAWebNewsletterQuickFollowButton.react"),{confirmUnfollow:!1,onFollowSuccess:l,following:c,loggingOptions:b,newsletter:i})]})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=e.discoverySurface,n=e.newsletter,a=e.newsletterDirectorySessionId,i=e.newsletterEventUnit,l=e.similarNewslettersSessionId,s=i!==o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS?o("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getCountryCodeIso(o("WAWebUserPrefsMeUser").getMePnUserOrThrow().user):void 0,u=r("useWAWebNewsletterDiscoveryVisibilityLogger")({cid:n.id.user,newsletterEventUnit:i,discoverySurface:t,similarNewslettersSessionId:l,newsletterDirectorySessionId:a,country:s}),d=u[0],p=u[1],_=babelHelpers.extends({},(c(e),e));return m.jsx("div",{ref:d,children:m.jsx(C,babelHelpers.extends({},_))})}b.displayName=b.name+" [from "+i.id+"]",l.NewsletterRecommendedItem=h,l.NewsletterRecommendedItemShimmer=y}),98);
__d("WAWebNewsletterRecommendedV2Unit.react",["WAWebCarouselScrollButton.react","WAWebCommonNewsletterEnums","WAWebFlex.react","WAWebNewsletterRecommendedV2Item.react","WAWebUISpacing","react","useWAWebWindowSize"],(function(t,n,r,o,a,i,l){var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useCallback,d={scrollContainer:{overflowX:"x14aock7",maxWidth:"x193iq5w","-ms-overflow-style":"x1pq812k",scrollbarWidth:"x1rohswg","::-webkit-scrollbar_display":"xfk6m8",$$css:!0}},m=120,p=450,_=600,f=970,g=750;function h(e){var t=e.chatEntryPoint,n=e.containerRef,r=e.discoverySurface,a=e.eventSurface,i=e.isFullUnit,l=e.newsletterDirectorySessionId,s=e.newsletterEventUnit,c=e.newsletters,m=e.onFollow,p=e.similarNewslettersSessionId,_=e.size;return i?u.jsx(v,{eventSurface:a,chatEntryPoint:t,newsletters:c,onFollow:null,size:_,discoverySurface:r,newsletterDirectorySessionId:l,similarNewslettersSessionId:p,newsletterEventUnit:s}):u.jsx(o("WAWebFlex.react").FlexColumn,{rowGap:8,xstyle:d.scrollContainer,ref:n,children:u.jsx(b,{eventSurface:a,chatEntryPoint:t,newsletters:c,onFollow:m,discoverySurface:r,newsletterDirectorySessionId:l,similarNewslettersSessionId:p,newsletterEventUnit:s})})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.isFullUnit,n=e.size;return t?u.jsx(o("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",children:Array.from({length:n.width>f?3:2},function(){return u.jsxs(o("WAWebFlex.react").FlexRow,{columnGap:8,children:[n.height>p&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),n.height>_&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),n.height>g&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})})}):u.jsxs(o("WAWebFlex.react").FlexRow,{columnGap:8,children:[u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=o("WAWebCarouselScrollButton.react").useScrollableContainer({itemWidth:m,isLoading:e.isLoading,itemsLoaded:e.newsletters.length,isFullUnit:e.isFullUnit}),n=t.containerRef,a=t.handleScroll,i=t.position,l=t.scrollEndBy,s=t.scrollStartBy,d=r("useWAWebWindowSize")(),p=e.afterFollow,_=c(function(t){p==null||p();var n=e.newsletters.findIndex(function(e,n){var r;return((r=e.newsletterMetadata)==null?void 0:r.membershipType)===o("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest&&n>t});n!==-1&&(l==null||l(m*(n-t)))},[e.newsletters,l,p]),f=u.jsx(h,{eventSurface:e.eventSurface,chatEntryPoint:e.chatEntryPoint,containerRef:n,isFullUnit:e.isFullUnit,newsletters:e.newsletters,onFollow:_,size:d,discoverySurface:e.discoverySurface,newsletterDirectorySessionId:e.newsletterDirectorySessionId,similarNewslettersSessionId:e.similarNewslettersSessionId,newsletterEventUnit:e.newsletterEventUnit}),g=e.isLoading?u.jsx(y,{isFullUnit:e.isFullUnit,size:d}):f;return u.jsx(o("WAWebFlex.react").FlexColumn,{testid:void 0,children:u.jsxs("div",{className:"x1n2onr6 x193iq5w",onWheel:a,children:[g,i!=="start"&&s!=null&&u.jsx(o("WAWebCarouselScrollButton.react").CarouselScrollButton,{direction:"start",onClick:function(){return s(m)},xstyle:o("WAWebUISpacing").uiMargin.start13}),i!=="end"&&l!=null&&u.jsx(o("WAWebCarouselScrollButton.react").CarouselScrollButton,{direction:"end",onClick:function(){return l(m)},xstyle:o("WAWebUISpacing").uiMargin.end13})]})})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=e.chatEntryPoint,n=e.discoverySurface,r=e.eventSurface,a=e.newsletterDirectorySessionId,i=e.newsletterEventUnit,l=e.newsletters,s=e.onFollow,c=e.similarNewslettersSessionId;return u.jsx(o("WAWebFlex.react").FlexRow,{columnGap:8,children:l.map(function(e,l){return u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItem,{eventSurface:r,chatEntryPoint:t,newsletter:e,onFollow:function(){return s==null?void 0:s(l)},discoverySurface:n,newsletterDirectorySessionId:a,similarNewslettersSessionId:c,newsletterEventUnit:i},e.id.toJid())})})}b.displayName=b.name+" [from "+i.id+"]";function v(e){var t=e.chatEntryPoint,n=e.discoverySurface,r=e.eventSurface,a=e.newsletterDirectorySessionId,i=e.newsletterEventUnit,l=e.newsletters,s=e.onFollow,c=e.similarNewslettersSessionId,d=e.size,m=d.width>f?3:2,h={eventSurface:r,chatEntryPoint:t,onFollow:s,discoverySurface:n,newsletterDirectorySessionId:a,similarNewslettersSessionId:c,newsletterEventUnit:i};return u.jsxs(o("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",children:[d.height>p&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(0,m)})),d.height>_&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(m,m*2)})),d.height>g&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(m*2,m*3)}))]})}v.displayName=v.name+" [from "+i.id+"]",l.default=C}),98);
__d("WAWebNewsletterRoleDataProcessors",["WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByRole,type:"UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED,role:!0}}]},process:function(t){var e,n,r=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByRole);return{followersReached:r==null||(e=r.find(function(e){return e.role==="SUBSCRIBER"}))==null?void 0:e.value,nonFollowersReached:r==null||(n=r.find(function(e){return e.role==="GUEST"}))==null?void 0:n.value}}};l.REACH_BY_ROLE_PROCESSOR=e}),98);
__d("WAWebNotificationsSettingsRow.react",["fbt","WAWebChatGetters","WAWebChatInfoDrawerRow.react","WAWebClock","WAWebMuteGetters","WAWebMuteNotificationsRefreshedIcon.react","WAWebText.react","WAWebUnmuteNotificationsRefreshedIcon.react","react","useWAWebChatValues","useWAWebMuteValues"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react"));function c(e){var t=e.chat,n=e.onClick,r=e.testid,a=o("useWAWebMuteValues").useMuteValues(t.id,[o("WAWebMuteGetters").getIsMuted]),i=a[0],l=o("useWAWebChatValues").useChatValues(t.id,[o("WAWebChatGetters").getMuteExpiration,o("WAWebChatGetters").getIsNewsletter]),c=l[0],d=l[1],m=i?u.jsx(o("WAWebMuteNotificationsRefreshedIcon.react").MuteNotificationsRefreshedIcon,{}):u.jsx(o("WAWebUnmuteNotificationsRefreshedIcon.react").UnmuteNotificationsRefreshedIcon,{}),p;if(i&&c&&!d){var _=o("WAWebClock").Clock.mutedUntilStr(c);p=u.jsx(o("WAWebText.react").WAWebTextMuted,{children:_})}return u.jsx(o("WAWebChatInfoDrawerRow.react").ChatInfoDrawerRowRefreshed,{icon:m,onClick:n,title:u.jsx(o("WAWebChatInfoDrawerRow.react").DrawerRowTitleRefreshed,{title:s._(/*BTDS*/"Param\u00e8tres de notification")}),secondaryTitle:p,testid:void 0})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WAWebPopulateNewsletterInsightsAction",["WAJids","WALogger","WAWebChatGetters","WAWebNewsletterBridgeApi","WAWebNewsletterGatingUtils","WAWebNewsletterGrowthChartProcessors","WAWebNewsletterInsightCountryDataProcessors","WAWebNewsletterInsightDeltaProcessors","WAWebNewsletterInsightsJob","WAWebNewsletterMetricUtils","WAWebNewsletterRoleDataProcessors","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return c(e,[o("WAWebNewsletterInsightDeltaProcessors").REACH_WITH_DELTA_PROCESSOR,o("WAWebNewsletterInsightDeltaProcessors").NET_FOLLOWS_PROCESSOR])}function u(e){return c(e,[o("WAWebNewsletterInsightDeltaProcessors").REACH_WITH_DELTA_PROCESSOR,o("WAWebNewsletterRoleDataProcessors").REACH_BY_ROLE_PROCESSOR,o("WAWebNewsletterInsightCountryDataProcessors").REACH_BY_COUNTRY_PROCESSOR,o("WAWebNewsletterInsightDeltaProcessors").FOLLOWER_WITH_DELTA_PROCESSOR,o("WAWebNewsletterInsightCountryDataProcessors").FOLLOWER_BY_COUNTRY_PROCESSOR,o("WAWebNewsletterGrowthChartProcessors").FOLLOWER_GROWTH_PROCESSOR])}function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!o("WAWebChatGetters").getIsNewsletter(t))throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][getAndUpdateNewsletterInsights] called with a non-newsletter chat"]))).tags("newsletter").sendLogs("getting-insights-for-non-newsletter"),r("err")("getting-insights-for-non-newsletter");if(o("WAWebNewsletterGatingUtils").canFetchProducerInsights(t.newsletterMetadata)){var a=o("WAWebNewsletterMetricUtils").getUniqueMetricRequests(n),i=o("WAJids").toNewsletterJid(t.id.toJid()),l={newsletterJid:i,requestedMetrics:a},s=yield o("WAWebNewsletterInsightsJob").getNewsletterInsights(l),u=s.dataStatus,c=s.lastUpdateTime,d=s.metricValueMap,m=n.map(function(e){return e.process(d)}),p={id:t.id,rangeStart:o("WAWebNewsletterMetricUtils").getInsightPeriodStart(c),rangeEnd:c,dataStatus:u};Object.assign.apply(Object,[p].concat(m)),yield o("WAWebNewsletterBridgeApi").NewsletterBridgeApi.updateNewsletterInsights({newsletter:t,insights:p})}}),d.apply(this,arguments)}l.populateNewsletterTileInsights=s,l.populateNewsletterTabInsights=u}),98);
__d("WAWebSimilarNewslettersUnits.react",["WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebNewsletterAttributionLogging","WAWebNewsletterDirectorySearchAction","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedV2Unit.react","WAWebSimilarNewsletterLogging","WAWebSimilarNewsletterSessionId","WAWebStateUtils","WAWebSvgButton.react","WAWebSvgComponentBase","WAWebText.react","WAWebUISpacing","WAWebWamEnumBannerStatus","WAWebWamEnumBannerStatusReason","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelEventUnit","WAWebWamEnumTsSurface","WAWebXIcon.react","react","stylex","useWAWebOnUnmount","useWAWebSimilarNewsletters","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useRef,_=c.useState,f={root:{backgroundColor:"x1280gxy",position:"x1n2onr6",$$css:!0},dismissButton:{position:"x10l6tqk",top:"x1eu8d0j",insetInlineEnd:"xeer0ze",left:null,right:null,$$css:!0}};function g(t){var n=t.chat,a=t.ref,i=o("useWAWebSimilarNewsletters").useSimilarNewsletters(n),l=i.similarNewsletters,s=i.similarNewslettersToDisplay,c=p(!1),_=o("WAWebSimilarNewsletterSessionId").useSimilarNewslettersSessionId(),g=m(function(){return{similarNewsletterSessionId:_,eventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,entryPoint:o("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.SIMILAR_CHANNEL}},[_]);r("useWAWebOnUnmount")(function(){o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setIsSimilarUnitMountedForChat(null)}),d(function(){c.current||(o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(_),o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setIsSimilarUnitMountedForChat(n.id),o("WAWebSimilarNewsletterLogging").logSimilarNewsletterImpression({originNewsletter:n,similarNewsletters:l,similarNewslettersToDisplay:s,eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD,sessionId:_,bannerStatus:o("WAWebWamEnumBannerStatus").BANNER_STATUS.DISPLAYED}),c.current=!0)},[n]);var h=function(){var e;o("WAWebSimilarNewsletterLogging").logSimilarNewsletterDismiss({chat:n,reason:o("WAWebWamEnumBannerStatusReason").BANNER_STATUS_REASON.CLOSE_TAP,sessionId:_}),(e=o("WAWebStateUtils").unproxy(n).newsletterMetadata)==null||e.resetRecentlyFollowedFrom()};return u.jsx(r("WAWebNewsletterLoggingContext").Provider,{value:g,children:u.jsxs("div",babelHelpers.extends({"aria-label":o("WAWebCommonNewsletterStrings").getNewsletterSimilarNewslettersTitle(),ref:a},(e||(e=r("stylex"))).props(f.root,o("WAWebUISpacing").uiPadding.top12,o("WAWebUISpacing").uiPadding.bottom16,o("WAWebUISpacing").uiPadding.horiz16),{children:[u.jsx(r("WAWebSvgButton.react"),{Icon:o("WAWebXIcon.react").XIcon,onClick:h,DEPRECATED_color:o("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,xstyle:f.dismissButton}),u.jsx(y,{eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD,newsletters:s,similarNewslettersSessionId:Number(_),discoverySurface:o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_THREAD})]}))})}g.displayName=g.name+" [from "+i.id+"]";function h(t){var n=t.chat,a=o("useWAWebSimilarNewsletters").useSimilarNewsletters(n),i=a.hasEnoughNewsletters,l=a.similarNewsletters,s=a.similarNewslettersToDisplay,c=o("WAWebSimilarNewsletterSessionId").useSimilarNewslettersSessionId(),g=m(function(){return{similarNewsletterSessionId:c,eventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,entryPoint:o("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.SIMILAR_CHANNEL}},[c]),h=r("useWAWebUnmountSignal")(),C=_(s.length===0),b=C[0],v=C[1];d(function(){h.aborted||s.length===0&&o("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(n).finally(function(){return v(!1)})},[n,s.length,h]);var S=p(!1);return d(function(){!b&&!S.current&&(o("WAWebSimilarNewsletterLogging").logSimilarNewsletterImpression({originNewsletter:n,similarNewsletters:l,similarNewslettersToDisplay:s,eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE,sessionId:c,bannerStatus:i?o("WAWebWamEnumBannerStatus").BANNER_STATUS.DISPLAYED:o("WAWebWamEnumBannerStatus").BANNER_STATUS.HIDDEN}),S.current=!0)},[b]),!i&&!b?null:u.jsx(r("WAWebNewsletterLoggingContext").Provider,{value:g,children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(f.root,o("WAWebUISpacing").uiMargin.top10,o("WAWebUISpacing").uiPadding.start30,o("WAWebUISpacing").uiPadding.vert16),{children:u.jsx(y,{eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE,newsletters:s,isLoading:b,similarNewslettersSessionId:Number(c),discoverySurface:o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PROFILE})}))})}h.displayName=h.name+" [from "+i.id+"]";function y(t){var n=t.discoverySurface,a=t.eventSurface,i=t.isLoading,l=i===void 0?!1:i,s=t.newsletters,c=t.ref,d=t.similarNewslettersSessionId;return u.jsxs("div",{ref:c,children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("WAWebUISpacing").uiMargin.bottom12),{children:u.jsx(o("WAWebText.react").WAWebTextSmall,{children:o("WAWebCommonNewsletterStrings").getNewsletterSimilarNewslettersTitle()})})),u.jsx(r("WAWebNewsletterRecommendedV2Unit.react"),{eventSurface:a,chatEntryPoint:o("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters,newsletters:s,isLoading:l,isFullUnit:!1,discoverySurface:n,newsletterEventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,similarNewslettersSessionId:d})]})}y.displayName=y.name+" [from "+i.id+"]",l.SimilarNewslettersConversationBanner=g,l.SimilarNewslettersInfoDrawerUnit=h}),98);
__d("WAWebUserShieldIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="user-shield";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=20,R=16;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 16 20",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),fill:"none",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{d:"M8 11.0004C8.96667 11.0004 9.79167 10.6587 10.475 9.97539C11.1583 9.29206 11.5 8.46706 11.5 7.50039C11.5 6.53372 11.1583 5.70872 10.475 5.02539C9.79167 4.34206 8.96667 4.00039 8 4.00039C7.03333 4.00039 6.20833 4.34206 5.525 5.02539C4.84167 5.70872 4.5 6.53372 4.5 7.50039C4.5 8.46706 4.84167 9.29206 5.525 9.97539C6.20833 10.6587 7.03333 11.0004 8 11.0004ZM8 17.9004C8.98333 17.5837 9.85417 17.0879 10.6125 16.4129C11.3708 15.7379 12.0333 14.9754 12.6 14.1254C11.8833 13.7587 11.1375 13.4796 10.3625 13.2879C9.5875 13.0962 8.8 13.0004 8 13.0004C7.2 13.0004 6.4125 13.0962 5.6375 13.2879C4.8625 13.4796 4.11667 13.7587 3.4 14.1254C3.96667 14.9754 4.62917 15.7379 5.3875 16.4129C6.14583 17.0879 7.01667 17.5837 8 17.9004ZM8 19.9004C7.88333 19.9004 7.775 19.8921 7.675 19.8754C7.575 19.8587 7.475 19.8337 7.375 19.8004C5.125 19.0504 3.33333 17.6629 2 15.6379C0.666667 13.6129 0 11.4337 0 9.10039V4.37539C0 3.95872 0.120833 3.58372 0.3625 3.25039C0.604167 2.91706 0.916667 2.67539 1.3 2.52539L7.3 0.275391C7.53333 0.192057 7.76667 0.150391 8 0.150391C8.23333 0.150391 8.46667 0.192057 8.7 0.275391L14.7 2.52539C15.0833 2.67539 15.3958 2.91706 15.6375 3.25039C15.8792 3.58372 16 3.95872 16 4.37539V9.10039C16 11.4337 15.3333 13.6129 14 15.6379C12.6667 17.6629 10.875 19.0504 8.625 19.8004C8.525 19.8337 8.425 19.8587 8.325 19.8754C8.225 19.8921 8.11667 19.9004 8 19.9004Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.UserShieldIcon=m}),98);
__d("WAWebWindowsNotificationTone.react",["fbt","WALogger","WAWebBackendApi","WAWebChatGetters","WAWebDBUpdateChatTable","WAWebWindowsNotificationToneDropdown.react","WAWebWindowsNotificationToneOption","WAWebWindowsUserPrefsNotifications","react","useWAWebSettingSync"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n,a=t.chat,i=o("useWAWebSettingSync").useSettingSync("notificationToneId",function(t){var n=Number(t);t===o("WAWebWindowsNotificationToneOption").NotificationToneOption.Default&&(n=null),o("WAWebDBUpdateChatTable").updateChatTable(a.id,{toneId:n}).then(function(){o("WAWebBackendApi").frontendFireAndForget("updateChatToneId",{id:a.id,toneId:n})}).catch(function(t){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to update chat tone id: ",""])),t)})},a.id.toString()),l=i;return c.jsx(r("WAWebWindowsNotificationToneDropdown.react"),{initialTone:(n=o("WAWebWindowsNotificationToneOption").NotificationToneOption.cast(a==null?void 0:a.toneId))!=null?n:o("WAWebWindowsNotificationToneOption").NotificationToneOption.Default,overrideDefaultTone:o("WAWebChatGetters").getIsGroup(a)?o("WAWebWindowsUserPrefsNotifications").getNotificationToneGroupSetting():o("WAWebWindowsUserPrefsNotifications").getNotificationToneSetting(),onToneSelect:l,title:s._(/*BTDS*/"Son de notification")})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useWAWebAdminInsightsHooks",["WATimeUtils","WAWebNewsletterMetricUtils","useWAWebModelValues"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("useWAWebModelValues").useModelValues(e,["adminInsights"]),n=o("useWAWebModelValues").useOptionalModelValues(t.adminInsights,["rangeStart","rangeEnd","rangeInDays"]);return s({rangeStart:n==null?void 0:n.rangeStart,rangeEnd:n==null?void 0:n.rangeEnd,creationTime:e.creationTime,rangeInDays:n==null?void 0:n.rangeInDays})}function s(e){var t=e.creationTime,n=e.rangeEnd,r=e.rangeInDays,a=e.rangeStart,i=n!=null?n:o("WATimeUtils").unixTime(),l=a!=null?a:o("WATimeUtils").castToUnixTime(Math.max(t,o("WAWebNewsletterMetricUtils").getInsightPeriodStart(i))),s=r!=null?r:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED;return{start:l,end:i,days:s}}l.useAdminInsightPeriod=e}),98);
__d("useWAWebAsyncRetry",["react","useWAWebAsync"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e,t){var n=c(0),o=n[0],a=n[1],i=u(function(){a(o+1)},[o]),l=r("useWAWebAsync")(function(){return e()},[].concat(t,[o]));return babelHelpers.extends({},l,{retry:i})}l.default=d}),98);
__d("useWAWebBeforeUnload",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){s(function(){var t=function(n){var t=e();if(t.showConfirmationDialog)return n.preventDefault(),n.returnValue="",""};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}},[e])}l.default=u}),98);
__d("useWAWebNewsletterInviteLink",["fbt","WALogger","WAWebCopyToClipboard","WAWebModalManager","WAWebNewsletterLinkShareLogging","WAWebSendTextFlow.react","WAWebToast.react","WAWebToastManager","WAWebWamEnumChannelLinkShareDirection","WAWebWidFactory","react","useWAWebModelValues"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=c||(c=r("react")),m=(u||(u=o("react"))).useCallback;function p(e){var t=e.chat,n=e.linkShareLoggingNavigationParams,a=o("useWAWebModelValues").useModelValues(t,["formattedTitle"]),i=a.formattedTitle,l=o("useWAWebModelValues").useOptionalModelValues(t.newsletterMetadata,["membershipType","inviteCode"]),u=l||{},c=u.inviteCode,p=c!=null?f(c):null,g=m(function(){if(p!=null){o("WAWebNewsletterLinkShareLogging").logNewsletterLinkShare({shareDirection:o("WAWebWamEnumChannelLinkShareDirection").CHANNEL_LINK_SHARE_DIRECTION.WHATSAPP,linkShareScreen:n.linkShareScreen,newsletter:o("WAWebWidFactory").asNewsletterWidOrThrow(t.id),linkShareScreenEntryPoint:n.linkShareScreenEntryPoint});var e=s._(/*BTDS*/"Voici une invitation \u00e0 suivre la cha\u00eene {newsletter_name} sur WhatsApp\u00a0: {link}",[s._param("newsletter_name",i),s._param("link",p)]),a=s._(/*BTDS*/"Envoyer le lien de la cha\u00eene \u00e0");o("WAWebModalManager").ModalManager.open(d.jsx(r("WAWebSendTextFlow.react"),{title:a,text:e.toString(),origin:t.id}),{transition:"modal-flow"})}},[p,n,t.id,i]),h=m(function(){p!=null&&_(p)},[p]);return[p,h,g]}function _(t){o("WAWebCopyToClipboard").copyTextToClipboard(t).then(function(e){e?o("WAWebToastManager").ToastManager.open(d.jsx(o("WAWebToast.react").Toast,{msg:s._(/*BTDS*/"Lien copi\u00e9 dans le presse-papiers.")})):o("WAWebToastManager").ToastManager.open(d.jsx(o("WAWebToast.react").Toast,{msg:s._(/*BTDS*/"Impossible de copier dans le presse-papiers.")}))}).catch(function(){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][invite link] failed to copy text to clipboard"]))).sendLogs("newsletter-invite-link-failed-to-copy-text-to-clipboard")})}function f(e){return"https://whatsapp.com/channel/"+e}l.useNewsletterInviteLink=p,l.copyInviteLink=_,l.getInviteLink=f}),226);