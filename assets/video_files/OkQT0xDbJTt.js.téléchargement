;/*FB_PKG_DELIM*/

__d("WAWebBizBroadcastsAudienceUtils",["WAWebChatCollection","WAWebChatGetters","WAWebChatGroupUtils","WAWebWidToJid"],(function(t,n,r,o,a,i,l){var e=100;function s(){var e=o("WAWebChatCollection").ChatCollection.filter(function(e){return o("WAWebChatGetters").getIsBroadcast(e)});return e.map(function(e){var t,n,r;return{broadcastJid:o("WAWebWidToJid").widToBroadcastJid(e.id),name:(t=o("WAWebChatGroupUtils").getBroadcastChatTitle(e))!=null?t:"",recipientCount:(n=(r=e.broadcastMetadata)==null?void 0:r.recipients.length)!=null?n:0}})}l.MAX_AUDIENCE_NAME_LENGTH=e,l.getBroadcastChatsAsAudiences=s}),98);
__d("WAWebBizBroadcastsCSVParsingUtils",["JSResourceForInteraction","WALogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n;try{n=yield r("JSResourceForInteraction")("papaparse").__setRef("WAWebBizBroadcastsCSVParsingUtils").load(),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["PapaParse library loaded successfully, processing CSV file ("," characters)"])),t.length)}catch(e){throw o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to load PapaParse library: ",""])),e).verbose().sendLogs("biz-broadcasts-csv-library-load-failed",{sampling:1}),e}try{var a,i=n.parse(t);return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["CSV file parsed successfully: "," rows extracted"])),((a=i.data)==null?void 0:a.length)||0),i}catch(e){throw o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse CSV file: ",""])),e).verbose().sendLogs("biz-broadcasts-csv-parsing-failed",{sampling:1}),e}});return function(n){return t.apply(this,arguments)}})();l.loadPapaParse=d}),98);
__d("WAWebBizBroadcastsConfirmDeleteDialog.react",["fbt","WAWebBusinessBroadcastUserJourneyLogger","WAWebModal.react","WDSButton.react","WDSText.react","react"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect,m={controlsStyle:{paddingTop:"xl7twdi",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0}};function p(e){var t=e.onPrimaryPress,n=e.onSecondayPress;return d(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.confirmDeleteAllErrorContactViewed()},[]),c.jsx(o("WAWebModal.react").Modal,{type:o("WAWebModal.react").ModalTheme.Small,actions:c.jsxs("div",{className:"x78zum5 x7v6yn8 xh8yej3 x1f0uite xs2akgl",children:[c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Annuler"),variant:"borderless",onPress:n,testid:void 0}),c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Supprimer toutes les erreurs"),variant:"filled",type:"destructive",onPress:t,testid:void 0})]}),onOverlayClick:n,testid:void 0,controlsStyle:m.controlsStyle,children:c.jsxs("div",{className:"x78zum5 xdt5ytf x1f0uite xs2akgl xh8yej3",children:[c.jsx(r("WDSText.react"),{type:"Headline2",colorName:"contentDefault",children:s._(/*BTDS*/"Voulez-vous vraiment continuer\u00a0?")}),c.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Si vous supprimez les erreurs concernant les destinataires qui n\u2019ont pas \u00e9t\u00e9 import\u00e9s, vous perdrez toutes leurs informations.")})]})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("WAWebBizBroadcastsRecipientUtils",["WAWebABProps"],(function(t,n,r,o,a,i,l){var e=256,s=-1;function u(){var t=o("WAWebABProps").getABPropConfigValue("smba_business_broadcast_recipient_limit");return t===s?e:t}l.getRecipientLimit=u}),98);
__d("WAWebBizBroadcastsTypedError",["$InternalEnum"],(function(t,n,r,o,a,i){var e,l=(e=n("$InternalEnum")).Mirrored(["NOT_WHATSAPP_USER","INVALID","DUPLICATE"]),s=e.Mirrored(["INVALID","EMPTY"]),u=e.Mirrored(["TYPE","FORMAT","TOO_MANY_ITEMS","TOO_MANY_ERRORS"]),c=e.Mirrored(["TOO_SMALL"]),d=(function(e){function t(t){var n;return n=e.call(this,"TypedError")||this,n.name="WAWebBizBroadcastsTypedError",n.type=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.PhoneError=l,i.NameError=s,i.FileError=u,i.AudienceError=c,i.WAWebBizBroadcastsTypedError=d}),66);
__d("WAWebBizBroadcastsValidationUtils",["$InternalEnum","WALogger","WAPhoneFindCC","WAWebBizBroadcastsTypedError","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebUserPrefsMeUser"],(function(t,n,r,o,a,i,l){var e,s=n("$InternalEnum").Mirrored(["VALID","INVALID"]),u=50;function c(e){var t=o("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").cleanPhoneNumberInputValue(e),n=t.countryCodeIso,r=t.fullRawPhoneNumber,a=t.phoneNumberWithoutCountryCode;if(n==null||a.length===0)return null;var i=o("WAPhoneFindCC").findCC(r),l=o("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").isPhoneNumberValid(Number(i),a),s="+"+i+" "+a;return{isValid:l,formattedPhoneNumber:s}}function d(t){try{if(t==null)return{status:s.INVALID,type:o("WAWebBizBroadcastsTypedError").PhoneError.INVALID};var n=t.trim();if(!n.startsWith("+")){var r=o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),a=o("WAPhoneFindCC").findCC(r.user),i=o("WAPhoneFindCC").findCC(n);a!==i?n="+"+a+n:n="+"+n}var l=c(n);return l!=null&&l.isValid?{status:s.VALID,value:l.formattedPhoneNumber}:{status:s.INVALID,type:o("WAWebBizBroadcastsTypedError").PhoneError.INVALID}}catch(n){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(['Phone number validation exception for input "','": ',""])),t,n).sendLogs("phone-number-validation-exception",{sampling:1}),{status:s.INVALID,type:o("WAWebBizBroadcastsTypedError").PhoneError.INVALID}}}function m(e){if(e==null||typeof e!="string")return{status:s.INVALID,type:o("WAWebBizBroadcastsTypedError").NameError.INVALID};var t=Array.from(e).slice(0,u).join("");return t.trim().length===0?{status:s.INVALID,type:o("WAWebBizBroadcastsTypedError").NameError.EMPTY}:{status:s.VALID,value:t}}l.ValidationStatus=s,l.validateAndFormatPhoneNumber=d,l.sanitizeName=m}),98);
__d("WAWebBizBroadcastsTemplateParsingUtils",["fbt","WAWebBizBroadcastsRecipientUtils","WAWebBizBroadcastsTypedError","WAWebBizBroadcastsValidationUtils"],(function(t,n,r,o,a,i,l,s){var e=s._(/*BTDS*/"Num\u00e9ro de t\u00e9l\u00e9phone").toString(),u=s._(/*BTDS*/"Nom complet").toString(),c=new Set(["phone","phone number",e.toLowerCase()]),d=["name","full name",u.toLowerCase()],m=["firstname","first name"],p=new Set(d),_=new Set(m),f=new Set([].concat(m,d)),g=new Set(["lastname","last name"]);function h(){var t=o("WAWebBizBroadcastsRecipientUtils").getRecipientLimit(),n=s._(/*BTDS*/"Saisissez le nom complet et le num\u00e9ro de t\u00e9l\u00e9phone de chaque destinataire sur une ligne distincte. Vous pouvez ajouter jusqu\u2019\u00e0 {recipient-limit}\u00a0destinataires \u00e0 une audience.",[s._param("recipient-limit",t)]).toString(),r=s._(/*BTDS*/"Ajouter un nom ici").toString(),a=s._(/*BTDS*/"Ajouter un num\u00e9ro de t\u00e9l\u00e9phone ici").toString();return n+"\n\n"+u+","+e+"\n\n"+r+","+a}function y(){return{href:"data:application/csv,"+encodeURI(h()),download:"template.csv"}}function C(){var e=y();return{href:e.href,download:e.download}}function b(e,t){for(var n in e){var r=n.toLowerCase();if(t.has(r))return n}}function v(e){for(var t of e.slice(0,3)){var n=b(t,_)!=null,r=b(t,g)!=null;if(n||r)return"dual";var o=b(t,p)!=null;if(o)return"single"}return"single"}function S(e,t){var n=b(e,t);if(n!=null)return e[n]}function R(e,t){for(var n in e){var r=n.toLowerCase();if(t.has(r)&&e[n]!=null)return String(e[n])}return""}function L(e){return R(e,f)}function E(e){return R(e,c)}function k(e){return c.has(e.toLowerCase().trim())}function I(e){var t=[],n=v(e),r=[];e.forEach(function(e,n){var a=S(e,c),i=o("WAWebBizBroadcastsValidationUtils").validateAndFormatPhoneNumber(String(a));if(i.status===o("WAWebBizBroadcastsValidationUtils").ValidationStatus.INVALID){t.push({rowIndex:n,rowData:e,errorType:i.type});return}r.push({row:e,phoneResult:i,originalIndex:n})});var a=new Map,i=[];r.forEach(function(e){var n=e.originalIndex,r=e.phoneResult,l=e.row,s=r.value;s!=null&&a.has(s)?t.push({rowIndex:n,rowData:l,errorType:o("WAWebBizBroadcastsTypedError").PhoneError.DUPLICATE}):s!=null&&(a.set(s,n),i.push({row:l,phoneResult:r,originalIndex:n}))});var l=i.map(function(e){var t=e.originalIndex,r=e.phoneResult,a=e.row,i=void 0,l=void 0;if(n==="single"){var s=S(a,p),u=o("WAWebBizBroadcastsValidationUtils").sanitizeName(s),c="";u.status===o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID?c=u.value!=null?u.value:"":c=r.value!=null?r.value:"",i=c!==""?c:void 0}else{var d=S(a,_),m=S(a,g),f="",h="",y=null,C=null;d!=null&&(y=o("WAWebBizBroadcastsValidationUtils").sanitizeName(d),y.status===o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID&&(f=y.value!=null?y.value:"")),m!=null&&(C=o("WAWebBizBroadcastsValidationUtils").sanitizeName(m),C.status===o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID&&(h=C.value!=null?C.value:"")),f!==""||h!==""?(i=f!==""?f:void 0,l=h!==""?h:void 0):i=r.value!=null?r.value:void 0}var b={phone:r.value!=null?r.value:"",rowIndex:t};return i!=null&&(b.firstName=i),l!=null&&(b.lastName=l),b});return{validContacts:l,errors:t}}l.getTemplateLinkProps=y,l.getTemplateLinkPropsWithURL=C,l.extractName=L,l.extractPhone=E,l.isPhoneFieldName=k,l.parseContactData=I}),226);
__d("WAWebBizBroadcastsContactChatCell.react",["WAWebBizBroadcastsTemplateParsingUtils","WAWebBoolFunc","WAWebChatCell.react","WAWebChatContact.react","WAWebContactCollection","WAWebDefaultContactRefreshedIcon.react","WAWebDetailImage.react","WAWebEmojiText.react","react"],(function(t,n,r,o,a,i,l){var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useMemo,d={svgSize:{width:"xh8yej3",height:"x5yr21d",$$css:!0},profilePictureOutlineRefreshed:{outline:"x4u6w88",outlineOffset:"x1g40iwv",$$css:!0},circleIconRefreshed:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",backgroundColor:"x1od0jb8",$$css:!0}};function m(e){var t=e.name,n=o("WAWebDetailImage.react").getSize(o("WAWebDetailImage.react").DetailImageSize.Small);return u.jsx(r("WAWebChatCell.react"),{theme:"subgroup-new",contextEnabled:o("WAWebBoolFunc").returnFalse,image:u.jsx("div",{style:{height:n,width:n},children:u.jsx(o("WAWebDefaultContactRefreshedIcon.react").DefaultContactRefreshedIcon,{iconXstyle:[d.svgSize,d.circleIconRefreshed,d.profilePictureOutlineRefreshed],"aria-hidden":!0})}),primary:u.jsx(o("WAWebEmojiText.react").EmojiText,{direction:"auto",text:t,titlify:!0,ellipsify:!0}),idle:!0})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.contact,n=e.rowData,r=t==null?void 0:t.lid,a=c(function(){return r==null?null:o("WAWebContactCollection").ContactCollection.get(r)},[r]);if(a!=null)return u.jsx(o("WAWebChatContact.react").Contact,{theme:"subgroup-new",contact:a,hideStatus:!0,idle:!0});if(n!=null){var i=o("WAWebBizBroadcastsTemplateParsingUtils").extractName(n);return u.jsx(m,{name:i})}var l=t==null?void 0:t.firstName;return l!=null?u.jsx(m,{name:l}):null}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WAWebBizBroadcastsContactErrorMessage",["fbt","WAWebBizBroadcastsTypedError"],(function(t,n,r,o,a,i,l,s){function e(e){return e===o("WAWebBizBroadcastsTypedError").PhoneError.INVALID?s._(/*BTDS*/"Num\u00e9ro non valide"):e===o("WAWebBizBroadcastsTypedError").PhoneError.DUPLICATE?s._(/*BTDS*/"Num\u00e9ro en double"):e===o("WAWebBizBroadcastsTypedError").PhoneError.NOT_WHATSAPP_USER?s._(/*BTDS*/"N\u2019est pas sur WhatsApp"):e===o("WAWebBizBroadcastsTypedError").NameError.INVALID?s._(/*BTDS*/"Nom non valide"):e===o("WAWebBizBroadcastsTypedError").NameError.EMPTY?s._(/*BTDS*/"Nom vide"):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}l.default=e}),226);
__d("WAWebBizBroadcastsContactVerifier",["WALogger","WAWebPerformanceUtils","WAWebUsernameGatingUtils","WAWebUsync","WAWebUsyncUser","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=new(o("WAWebUsync")).USyncQuery().withMode("query").withContext("interactive").withBusinessProtocol().withPictureProtocol();o("WAWebUsernameGatingUtils").usernameContactUsyncLidBased()?n.withContactProtocol(o("WAWebUsync").USYNC_ADDRESSING_MODE.LID):(n.withContactProtocol(o("WAWebUsync").USYNC_ADDRESSING_MODE.PN),n.withLidProtocol());var r=self.performance.now();t.forEach(function(e){n.withUser(new(o("WAWebUsyncUser")).USyncUser().withPhone(e))});var a=yield n.execute();a.error&&Object.keys(a.error).length>0&&(o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["USync contact verification errors detected for "," phone numbers"])),t.length),Object.entries(a.error).forEach(function(e){var t=e[0],n=e[1]})),a.refresh&&Object.keys(a.refresh).length>0&&Object.entries(a.refresh).forEach(function(e){var t=e[0],n=e[1]});var i={};a.list&&a.list.length>0&&a.list.forEach(function(e){var t,n;if(!e.id){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["verifyWhatsAppUsers: user has no id, skipping"])));return}var r=(t=e.contact)==null?void 0:t.content,a=((n=e.contact)==null?void 0:n.type)==="in";if(a){var l=e.id.isLid()?e.id:e.lid;i[r]={isWhatsAppUser:!0,lid:l}}else i[r]={isWhatsAppUser:!1}});var l=o("WAWebPerformanceUtils").getElapsedTimeMs(r);return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WhatsApp contact verification completed in "," for "," phone numbers"])),l,t.length),i}),d.apply(this,arguments)}l.verifyWhatsAppUsers=c}),98);
__d("WAWebBizBroadcastsDialog.react",["WAWebCloseRefreshedIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WDSButton.react","WDSText.react","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react")),u={surface:"bb-imported-contact-wizard"},c={container:{marginInlineStart:"xm2jcoa",$$css:!0},body:{maxWidth:"x1kvbfxc",$$css:!0}};function d(e){var t=e.children,n=e.onClose,a=e.primaryAction,i=e.testid,l=i===void 0?"biz-broadcasts-dialog":i,d=e.title;return s.jsxs(r("WAWebDrawer.react"),{testid:void 0,tsNavigationData:u,xstyle:c.container,children:[s.jsxs("header",{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x8a3fw1 x1aj3ljl x1peatla xexx8yu x18d9i69 x1iw51ew xde1mab x2lah0s",children:[s.jsx(r("WDSButton.react"),{size:"medium",variant:"borderless",Icon:o("WAWebCloseRefreshedIcon.react").CloseRefreshedIcon,onPress:n}),d!=null?s.jsx("div",{className:"x98rzlu x78zum5 x6s0dn4",children:s.jsx(r("WDSText.react"),{type:"Body1",colorName:"contentDefault",children:d})}):null,a!=null?s.jsx("div",{className:"x2lah0s",children:a}):null]}),s.jsx("div",{className:"xw2csxc x1odjw0f xh8yej3",children:s.jsx("div",{className:"x78zum5 xl56j7k",children:s.jsx(r("WAWebDrawerBody.react"),{xstyle:c.body,children:t})})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("WAWebBizBroadcastsDrawerReducer",[],(function(t,n,r,o,a,i){var e=function(t,n){switch(n.type){case"COMPLETE_PROCESSING":{var e=n.payload,r=e.errorList,o=e.validContactsData;return babelHelpers.extends({},t,{validContactsData:o,errorList:r})}case"DELETE_CONTACT":{var a=n.payload.contact;return babelHelpers.extends({},t,{validContactsData:t.validContactsData.filter(function(e){return e!==a})})}case"DELETE_ERROR_ITEM":{var i=n.payload.errorItem;return babelHelpers.extends({},t,{errorList:t.errorList.filter(function(e){return e!==i})})}case"DELETE_ALL_ERROR_ITEMS":return babelHelpers.extends({},t,{errorList:[]});case"SAVE_EDITED_CONTACT":{var l=n.payload,s=l.editedContact,u=l.originalIndex,c=[s].concat(t.validContactsData),d=t.errorList.filter(function(e,t){return t!==u});return babelHelpers.extends({},t,{validContactsData:c,errorList:d})}default:return t}};i.reducer=e}),66);
__d("WAWebBizBroadcastsFileTypeValidator",["$InternalEnum"],(function(t,n,r,o,a,i){var e,l=n("$InternalEnum")({EXCEL:"excel",CSV:"csv"}),s=(e={},e[l.EXCEL]={extensions:[".xlsx",".xls"],mimeTypes:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]},e[l.CSV]={extensions:[".csv"],mimeTypes:["text/csv","application/csv"]},e);function u(e,t){if(!s[t])return!1;var n=s[t];return n.extensions.some(function(t){return e.name.endsWith(t)})||n.mimeTypes.includes(e.type)}function c(e){e===void 0&&(e=[l.EXCEL,l.CSV]);var t=[];e.forEach(function(e){s[e]&&(t.push.apply(t,s[e].extensions),t.push.apply(t,s[e].mimeTypes))});var n=Array.from(new Set(t));return n.join(",")}i.FileType=l,i.isFileOfType=u,i.getAcceptTypesString=c}),66);
__d("WAWebBizBroadcastsXLSXParsingUtils",["JSResourceForInteraction","WALogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n;try{n=yield r("JSResourceForInteraction")("xlsx").__setRef("WAWebBizBroadcastsXLSXParsingUtils").load(),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["XLSX library loaded successfully, processing Excel file ("," bytes)"])),t.byteLength)}catch(e){throw o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["XLSX library loading failed: ",""])),e).verbose().sendLogs("biz-broadcasts-xlsx-library-loading-failed",{sampling:1}),e}try{var a=n.read(t,{type:"array"}),i=a.SheetNames[0],l=a.Sheets[i],d=n.utils.sheet_to_json(l,{header:1});return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Excel file parsed successfully: ",' rows extracted from sheet "','"'])),d.length,i),d}catch(e){throw o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["XLSX file parsing failed: ",""])),e).verbose().sendLogs("biz-broadcasts-xlsx-file-parsing-failed",{sampling:1}),e}}),m.apply(this,arguments)}l.loadXLSX=d}),98);
__d("WAWebBizBroadcastsFileProcessor",["WALogger","WAWebBizBroadcastsCSVParsingUtils","WAWebBizBroadcastsContactVerifier","WAWebBizBroadcastsFileTypeValidator","WAWebBizBroadcastsRecipientUtils","WAWebBizBroadcastsTemplateParsingUtils","WAWebBizBroadcastsTypedError","WAWebBizBroadcastsXLSXParsingUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_;function f(e){var t,n=(t=o("WAWebBizBroadcastsFileTypeValidator")).isFileOfType(e,t.FileType.EXCEL),r=t.isFileOfType(e,t.FileType.CSV);if(!n&&!r)throw new(o("WAWebBizBroadcastsTypedError")).WAWebBizBroadcastsTypedError(o("WAWebBizBroadcastsTypedError").FileError.TYPE)}function g(e){var t=o("WAWebBizBroadcastsRecipientUtils").getRecipientLimit();if(e.length>t)throw new(o("WAWebBizBroadcastsTypedError")).WAWebBizBroadcastsTypedError(o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ITEMS)}function h(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.some(o("WAWebBizBroadcastsTemplateParsingUtils").isPhoneFieldName))return{index:t,data:n}}}function y(e){var t=[],n=h(e);if(n==null)throw new(o("WAWebBizBroadcastsTypedError")).WAWebBizBroadcastsTypedError(o("WAWebBizBroadcastsTypedError").FileError.FORMAT);for(var r=n.index+1;r<e.length;r++){var a=e[r];if(!a.every(function(e){return e==null||typeof e=="string"&&e.trim()===""})){for(var i={data:{},originalRowIndex:r},l=0;l<n.data.length;l++)if(n.data[l]){var s=a[l];i.data[n.data[l]]=s!=null?String(s):""}t.push(i)}}return t}function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield e.arrayBuffer(),n=yield o("WAWebBizBroadcastsXLSXParsingUtils").loadXLSX(t);return y(n)}),b.apply(this,arguments)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield e.text(),n=yield o("WAWebBizBroadcastsCSVParsingUtils").loadPapaParse(t);return y(n.data)}),S.apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebBizBroadcastsFileTypeValidator").isFileOfType(e,o("WAWebBizBroadcastsFileTypeValidator").FileType.EXCEL);return t?C(e):v(e)}),L.apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.map(function(e){return Object.keys(e.data).reduce(function(t,n){return t[n]=e.data[n],t},{originalRowIndex:e.originalRowIndex})});return o("WAWebBizBroadcastsTemplateParsingUtils").parseContactData(t)}),k.apply(this,arguments)}function I(e){return e.map(function(e){return{rowIndex:typeof e.rowIndex=="number"?e.rowIndex:0,rowData:e.rowData||{},errorType:e.errorType}})}function T(e){return e.replace(/^\+/,"").replace(/\D/g,"")}function D(e){return x.apply(this,arguments)}function x(){return x=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.map(function(e){return{contact:e,normalizedPhone:T(e.phone)}}),n=t.map(function(e){var t=e.normalizedPhone;return t}),r=yield o("WAWebBizBroadcastsContactVerifier").verifyWhatsAppUsers(n),a=[],i=[];return t.forEach(function(e){var t=e.contact,n=e.normalizedPhone,l=r[n],s=(l==null?void 0:l.isWhatsAppUser)===!0;if(s){var u=babelHelpers.extends({},t);(l==null?void 0:l.lid)!=null&&(u.lid=l.lid),a.push(u)}else i.push({rowIndex:t.rowIndex,rowData:{phone:t.phone,firstName:t.firstName,lastName:t.lastName},errorType:o("WAWebBizBroadcastsTypedError").PhoneError.NOT_WHATSAPP_USER})}),{verifiedContacts:a,nonWhatsAppUserErrors:i}}),x.apply(this,arguments)}function $(e,t){return P.apply(this,arguments)}function P(){return P=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=o("WAWebBizBroadcastsFileTypeValidator").isFileOfType(t,o("WAWebBizBroadcastsFileTypeValidator").FileType.EXCEL)?"Excel":"CSV";o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Starting file processing: "," (",", "," bytes)"])),t.name,r,t.size);try{f(t),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["File validation passed for "," file: ",""])),r,t.name);var a=yield R(t);o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["File parsing completed: "," rows extracted from "," file"])),a.length,r),g(a),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["File row size validation passed for file: ",", size:"," recipientsLimit:",""])),t.name,a.length,o("WAWebBizBroadcastsRecipientUtils").getRecipientLimit());var i=yield E(a);o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Contact data processing completed: "," valid, "," errors"])),i.validContacts.length,i.errors.length);var l=yield D(i.validContacts),h=l.nonWhatsAppUserErrors,y=l.verifiedContacts;o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WhatsApp user verification completed: "," verified users, "," non-WhatsApp users"])),y.length,h.length);var C=I([].concat(i.errors,h)),b=C.map(function(e){return babelHelpers.extends({},e,{type:"error",contactIndex:null})}).sort(function(e,t){return e.rowIndex-t.rowIndex});o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["File processing completed successfully: "," contacts ready for broadcast and "," are shown as errors."])),y.length,b.length),n.onComplete(y,b)}catch(e){o("WALogger").ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["File processing failed for "," file ",": ",""])),r,t.name,e).verbose().sendLogs("biz-broadcasts-file-processing-failed",{sampling:1}),n.onError(e)}}),P.apply(this,arguments)}l.normalizePhoneNumber=T,l.processFile=$}),98);
__d("WAWebBizBroadcastsEditContactDialog.react",["fbt","WAWebBizBroadcastsContactErrorMessage","WAWebBizBroadcastsContactVerifier","WAWebBizBroadcastsFileProcessor","WAWebBizBroadcastsTemplateParsingUtils","WAWebBizBroadcastsTypedError","WAWebBizBroadcastsValidationUtils","WAWebBusinessBroadcastUserJourneyLogger","WAWebModal.react","WDSButton.react","WDSText.react","WDSTextField.react","asyncToGeneratorRuntime","react"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=o("react")),d=e||(e=r("react")),m=c.useCallback,p=c.useEffect,_=c.useMemo,f=c.useRef,g=c.useState,h={surface:"bb-edit-contact"},y={controlsStyle:{paddingTop:"xl7twdi",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0}};function C(e,t){if(e.trim().length===0)return!1;var n=o("WAWebBizBroadcastsFileProcessor").normalizePhoneNumber(e);return t.has(n)}function b(e,t){if(e!=null&&!e.isVerifying){if(e.isValidPhoneNumber===!1)return r("WAWebBizBroadcastsContactErrorMessage")(o("WAWebBizBroadcastsTypedError").PhoneError.INVALID);if(e.isWhatsAppUser===!1)return r("WAWebBizBroadcastsContactErrorMessage")(o("WAWebBizBroadcastsTypedError").PhoneError.NOT_WHATSAPP_USER)}return t?r("WAWebBizBroadcastsContactErrorMessage")(o("WAWebBizBroadcastsTypedError").PhoneError.DUPLICATE):null}function v(e,t){if(e.trim().length<=0)return null;var n=t(e);return{status:n.status,type:n.type}}function S(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.contactNameEntered()}function R(e){var t=e.defaultValue,n=e.errorMessage,o=e.onValueChange;return d.jsx(r("WDSTextField.react"),{label:s._(/*BTDS*/"Nom"),defaultValue:t,onValueChange:o,onFocus:S,error:n!=null,errorText:n})}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=e.contactVerificationStatus,n=e.defaultValue,a=e.isDuplicate,i=e.onValueChange,l=b(t,a);return d.jsx(r("WDSTextField.react"),{label:s._(/*BTDS*/"Num\u00e9ro de t\u00e9l\u00e9phone"),defaultValue:n,onValueChange:i,onFocus:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.phoneNumberEntered()},error:l!=null,errorText:l})}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t=e.item,a=e.onCancel,i=e.onSave,l=e.validContactsData,u=_(function(){return new Set(l.map(function(e){return o("WAWebBizBroadcastsFileProcessor").normalizePhoneNumber(e.phone)}))},[l]),c=o("WAWebBizBroadcastsTemplateParsingUtils").extractPhone(t.rowData),b=o("WAWebBizBroadcastsTemplateParsingUtils").extractName(t.rowData),S=g(c),E=S[0],k=S[1],I=g(b),T=I[0],D=I[1],x=g(null),$=x[0],P=x[1],N=f(null),M=g(function(){return v(b,o("WAWebBizBroadcastsValidationUtils").sanitizeName)}),w=M[0],A=M[1],F=m((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(P(null),e!==""){var t=o("WAWebBizBroadcastsValidationUtils").validateAndFormatPhoneNumber(e);if(t.status!==o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID||t.value==null){P({isVerifying:!1,isValidPhoneNumber:!1});return}try{var n=yield o("WAWebBizBroadcastsContactVerifier").verifyWhatsAppUsers([e]),r=n[Object.keys(n)[0]],a=r.isWhatsAppUser,i=r.lid;P({isVerifying:!1,isValidPhoneNumber:!0,isWhatsAppUser:a,lid:i})}catch(e){P({isVerifying:!1,isValidPhoneNumber:t.status===o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID,isWhatsAppUser:!1})}}});return function(t){return e.apply(this,arguments)}})(),[]),O=m(function(e){D(e);var t=o("WAWebBizBroadcastsValidationUtils").sanitizeName(e);A({status:t.status,type:t.type})},[]),B=m(function(e){k(e),o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.phoneNumberEntered(),N.current!=null&&(window.clearTimeout(N.current),N.current=null),P(null),e.trim().length>0&&(N.current=window.setTimeout(function(){F(e.trim())},250))},[F]);p(function(){c.trim().length>0&&F(c.trim())},[c,F]),p(function(){return function(){N.current!=null&&window.clearTimeout(N.current)}},[]),p(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.editContactViewed()},[]);function W(){return!(w==null||w.status!==o("WAWebBizBroadcastsValidationUtils").ValidationStatus.VALID||$==null||$.isVerifying||$.isValidPhoneNumber!==!0||$.isWhatsAppUser!==!0||C(E,u)&&t.type==="error")}function q(){if(W()){var e=o("WAWebBizBroadcastsValidationUtils").validateAndFormatPhoneNumber(E),t={phone:e.value||""},n=T.trim().length>0?o("WAWebBizBroadcastsValidationUtils").sanitizeName(T):null;(n==null?void 0:n.value)!=null&&(t.firstName=n.value);var r=$==null?void 0:$.lid;r!=null&&(t.lid=r),o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.editContactConfirmClicked(),i(t)}}return d.jsx(o("WAWebModal.react").Modal,{type:o("WAWebModal.react").ModalTheme.BusinessBroadcastUploadModal,tsNavigationData:h,actions:d.jsxs("div",{className:"x78zum5 x7v6yn8 xh8yej3 x1f0uite xs2akgl",children:[d.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Annuler"),variant:"borderless",onPress:a,testid:void 0}),d.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Mettre \u00e0 jour"),disabled:!W(),variant:"filled",onPress:q,testid:void 0})]}),onOverlayClick:a,testid:void 0,controlsStyle:y.controlsStyle,children:d.jsxs("div",{className:"x78zum5 xdt5ytf x1f0uite xs2akgl xh8yej3",children:[d.jsx(r("WDSText.react"),{type:"Headline2",colorName:"contentDefault",children:s._(/*BTDS*/"Modifier les informations du destinataire")}),d.jsxs("div",{children:[d.jsx(R,{defaultValue:T,onValueChange:O,errorMessage:w!=null&&w.type?r("WAWebBizBroadcastsContactErrorMessage")(w==null?void 0:w.type):null}),d.jsx(L,{defaultValue:E,contactVerificationStatus:$,isDuplicate:C(E,u),onValueChange:B})]})]})})}E.displayName=E.name+" [from "+i.id+"]",l.default=E}),226);
__d("WAWebBizBroadcastsErrorDetailsSection.react",["fbt","WAWebBizBroadcastsConfirmDeleteDialog.react","WAWebBizBroadcastsContactChatCell.react","WAWebBizBroadcastsContactErrorMessage","WAWebBizBroadcastsEditContactDialog.react","WAWebBizBroadcastsTemplateParsingUtils","WAWebBusinessBroadcastUserJourneyLogger","WAWebModalManager","WDSButton.react","WDSIconIcDelete.react","WDSIconIcEdit.react","WDSIconIcError.react","WDSText.react","react"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react")),c={errorIcon:{verticalAlign:"xxymvpz",marginInlineEnd:"xqf2s3x",$$css:!0}};function d(e){var t=e.contacts,n=e.errorList,a=e.onDeleteAllErrorItems,i=e.onDeleteErrorItem,l=e.onUpdateContact;return n.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx("tbody",{children:u.jsx("tr",{children:u.jsxs("td",{colSpan:4,children:[u.jsx("div",{className:"x6pxu1d xd6izgl x1380le5 xefnzgg x3x0x6p xjm9jq1"}),u.jsxs("div",{className:"x78zum5 x1phvje8 xcldk2z x6s0dn4 x1qughib xdqhqc9",children:[u.jsxs("div",{className:"x78zum5 xdt5ytf x1qvou4u x1s70e7g",children:[u.jsxs(r("WDSText.react"),{type:"Body2",colorName:"secondaryNegativeEmphasized",children:[u.jsx(r("WDSIconIcError.react"),{displayInline:!0,xstyle:c.errorIcon}),s._(/*BTDS*/"_j{\"*\":{\"*\":\"{number_of_recipients}\\u00a0destinataires n\\u2019ont pas \\u00e9t\\u00e9 import\\u00e9s\"},\"_1\":{\"_1\":\"1 destinataire n\\u2019a pas \\u00e9t\\u00e9 import\\u00e9\"}}",[s._plural(n.length,"number_of_recipients"),s._plural(n.length)])]}),u.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Corrigez les erreurs de destinataire avant d\u2019enregistrer votre audience.")})]}),u.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Supprimer toutes les erreurs"),size:"small",type:"destructive",variant:"outline",onPress:function(){o("WAWebModalManager").ModalManager.open(u.jsx(r("WAWebBizBroadcastsConfirmDeleteDialog.react"),{onPrimaryPress:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.deleteAllErrorContactsConfirmClicked(),a(),o("WAWebModalManager").ModalManager.close()},onSecondayPress:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.deleteAllErrorContactsCancelClicked(),o("WAWebModalManager").ModalManager.close()}}))},testid:void 0})]})]})})}),u.jsx("tbody",{children:n.map(function(e,n){return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(r("WAWebBizBroadcastsContactChatCell.react"),{rowData:e.rowData})}),u.jsx("td",{className:"xxymvpz",children:u.jsx(r("WDSText.react"),{type:"Body1",colorName:"accent",maxLines:1,children:o("WAWebBizBroadcastsTemplateParsingUtils").extractPhone(e.rowData)})}),u.jsx("td",{className:"xxymvpz",children:(e==null?void 0:e.errorType)&&u.jsx(r("WDSText.react"),{type:"Body3",colorName:"secondaryNegativeEmphasized",children:r("WAWebBizBroadcastsContactErrorMessage")(e==null?void 0:e.errorType)})}),u.jsx("td",{className:"xxymvpz",children:u.jsxs("div",{className:"x78zum5 x7v6yn8",children:[u.jsx(r("WDSButton.react"),{size:"medium",variant:"borderless",Icon:r("WDSIconIcEdit.react"),onPress:function(){o("WAWebModalManager").ModalManager.open(u.jsx(r("WAWebBizBroadcastsEditContactDialog.react"),{validContactsData:t,item:e,onSave:function(r){var t=babelHelpers.extends({},r,{rowIndex:e.rowIndex});l(t,n),o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.editContactConfirmClicked(),o("WAWebModalManager").ModalManager.close()},onCancel:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.editContactCancelClicked(),o("WAWebModalManager").ModalManager.close()}}))}}),u.jsx(r("WDSButton.react"),{size:"medium",variant:"borderless",Icon:r("WDSIconIcDelete.react"),onPress:function(){return i(e)}})]})})]},String(e.rowData.phone)+"-"+n)})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("WAWebBizBroadcastsErrorDialog.react",["fbt","WAWebBizBroadcastsModalWarningIcon.react","WAWebBizBroadcastsRecipientUtils","WAWebBizBroadcastsTemplateParsingUtils","WAWebBizBroadcastsTypedError","WAWebBusinessBroadcastUserJourneyLogger","WAWebModal.react","WDSButton.react","WDSText.react","react"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect,m={title:{width:"xh8yej3",$$css:!0},controlsStyle:{paddingTop:"xl7twdi",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0}};function p(e){var t=e.errorType;return t===o("WAWebBizBroadcastsTypedError").FileError.TYPE?s._(/*BTDS*/"Fichier non pris en charge"):t===o("WAWebBizBroadcastsTypedError").FileError.FORMAT?s._(/*BTDS*/"Erreur de format de fichier"):t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ITEMS?s._(/*BTDS*/"La taille du fichier d\u00e9passe la limite"):t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS?s._(/*BTDS*/"Examinez les erreurs du fichier"):t===o("WAWebBizBroadcastsTypedError").AudienceError.TOO_SMALL?s._(/*BTDS*/"Ajoutez plus de destinataires \u00e0 l\u2019audience"):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})()}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.errorType;return t===o("WAWebBizBroadcastsTypedError").FileError.TYPE?s._(/*BTDS*/"Vous pouvez importer uniquement des fichiers .csv ou .xlsx."):t===o("WAWebBizBroadcastsTypedError").FileError.FORMAT?s._(/*BTDS*/"Une ou plusieurs colonnes requises sont manquantes dans votre fichier. Vous pouvez t\u00e9l\u00e9charger le mod\u00e8le pour voir le format requis."):t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ITEMS?(function(e){return s._(/*BTDS*/"_j{\"*\":\"Vous pouvez ajouter jusqu\\u2019\\u00e0 {number_of_recipients}\\u00a0destinataires \\u00e0 une audience.\",\"_1\":\"Vous pouvez ajouter jusqu\\u2019\\u00e0 1\\u00a0destinataire \\u00e0 une audience.\"}",[s._plural(e,"number_of_recipients")])})(o("WAWebBizBroadcastsRecipientUtils").getRecipientLimit()):t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS?s._(/*BTDS*/"Votre fichier comprend plus de 20\u00a0erreurs. Vous pouvez quand m\u00eame l\u2019importer, mais les destinataires dont les informations sont erron\u00e9es ne seront pas import\u00e9s. Corrigez les erreurs dans votre fichier et enregistrez le mod\u00e8le\u00a0CSV pour obtenir des conseils."):t===o("WAWebBizBroadcastsTypedError").AudienceError.TOO_SMALL?s._(/*BTDS*/"Au moins deux destinataires sont n\u00e9cessaires pour cr\u00e9er une audience."):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})()}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.errorType,n=e.extraAttributes,a=n===void 0?null:n,i=e.onClose,l=e.onContinue,u=function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.reviewFileErrorsPromptTemplateSaveClicked(babelHelpers.extends({errorType:t},a))};return t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS?c.jsxs("div",{className:"x78zum5 x1qughib xh8yej3",children:[c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Enregistrer le mod\u00e8le"),onPress:u,variant:"outline",testid:void 0,linkProps:o("WAWebBizBroadcastsTemplateParsingUtils").getTemplateLinkPropsWithURL()}),c.jsxs("div",{className:"x78zum5 x1qvou4u x1s70e7g",children:[c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Annuler"),variant:"borderless",onPress:i,testid:void 0}),c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Continuer l\u2019importation"),variant:"filled",onPress:l,testid:void 0})]})]}):t===o("WAWebBizBroadcastsTypedError").AudienceError.TOO_SMALL?c.jsxs("div",{className:"x78zum5 x7v6yn8 xh8yej3 x1f0uite xs2akgl",children:[c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Fermer"),variant:"filled",onPress:i,testid:void 0}),","]}):c.jsxs("div",{className:"x78zum5 x7v6yn8 xh8yej3 x1f0uite xs2akgl",children:[c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Annuler"),variant:"borderless",onPress:i,testid:void 0}),c.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"T\u00e9l\u00e9charger le mod\u00e8le"),onPress:u,variant:"filled",testid:void 0,linkProps:o("WAWebBizBroadcastsTemplateParsingUtils").getTemplateLinkPropsWithURL()})]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.errorType,n=e.extraAttributes,a=n===void 0?null:n,i=e.onClose,l=e.onContinue,s=t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS?o("WAWebModal.react").ModalTheme.BusinessBroadcastUploadModal:o("WAWebModal.react").ModalTheme.Small,u=s!==o("WAWebModal.react").ModalTheme.Small,g=t===o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS?"center":void 0;return d(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.reviewFileErrorsPromptViewed(babelHelpers.extends({errorType:t},a))},[t]),c.jsx(o("WAWebModal.react").Modal,{type:s,actions:c.jsx(f,{errorType:t,extraAttributes:a,onClose:i,onContinue:l}),onOverlayClick:i,testid:void 0,controlsStyle:m.controlsStyle,children:c.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1f0uite xh8yej3",children:[u&&c.jsx(r("WAWebBizBroadcastsModalWarningIcon.react"),{}),c.jsx(r("WDSText.react"),{textAlign:g,type:"Headline2",colorName:"contentDefault",xstyle:m.title,children:c.jsx(p,{errorType:t})}),c.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:c.jsx(_,{errorType:t})})]})})}g.displayName=g.name+" [from "+i.id+"]",l.WAWebBizBroadcastsErrorDialog=g}),226);
__d("WAWebBizBroadcastsFilePicker.react",["WALogger","WAWebBusinessBroadcastUserJourneyLogger","WAWebFilePicker.react","WDSButton.react","WDSIconIcUpload.react","asyncToGeneratorRuntime","react"],(function(t,n,r,o,a,i,l){var e,s,u,c=u||(u=r("react")),d=(s||(s=o("react"))).useRef;function m(t){var a=t.acceptTypes,i=t.buttonText,l=t.onFileSelected,s=t.testid,u=d(null),m=function(){var e;o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.fileUploadClicked(),(e=u.current)==null||e.open()},p=function(r){var t=r.target.files[0];t&&n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.fileOpenClicked(),yield l(t)}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error in onFileSelected: ",""])),t)}})()};return c.jsxs(c.Fragment,{children:[c.jsx(r("WDSButton.react"),{Icon:r("WDSIconIcUpload.react"),label:i,variant:"filled",onPress:m,testid:void 0}),c.jsx(r("WAWebFilePicker.react"),{ref:u,mimes:a,onChange:p,multiple:!1})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WAWebBizBroadcastsManageAudiencePanelErrorModal.react",["fbt","$InternalEnum","WAWebBusinessBroadcastUserJourneyLogger","WAWebModal.react","WAWebModalManager","WDSButton.react","WDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p={errorControlsStyle:{paddingTop:"xl7twdi",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0}},_=n("$InternalEnum").Mirrored(["INSUFFICIENT_RECIPIENTS","UNKNOWN"]);function f(e){var t=e.errorType;return t===_.INSUFFICIENT_RECIPIENTS?u.jsxs(u.Fragment,{children:[u.jsx(r("WDSText.react"),{type:"Headline2",colorName:"contentDefault",children:s._(/*BTDS*/"Ajoutez plus de destinataires \u00e0 l\u2019audience")}),u.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Au moins deux destinataires sont n\u00e9cessaires pour cr\u00e9er une audience.")})]}):t===_.UNKNOWN?u.jsxs(u.Fragment,{children:[u.jsx(r("WDSText.react"),{type:"Headline2",colorName:"contentDefault",children:s._(/*BTDS*/"Impossible d\u2019enregistrer l\u2019audience")}),u.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Veuillez r\u00e9essayer.")})]}):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})()}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.errorType;m(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.saveImportedContactViewed({errorType:t})},[t]);var n=d(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.saveImportedContactClosed({errorType:t}),o("WAWebModalManager").ModalManager.close()},[t]);return u.jsx(o("WAWebModal.react").Modal,{type:o("WAWebModal.react").ModalTheme.Small,actions:u.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Fermer"),variant:"filled",testid:void 0,onPress:n}),onOverlayClick:n,testid:void 0,controlsStyle:p.errorControlsStyle,children:u.jsx("div",{className:"x78zum5 xdt5ytf x1f0uite xs2akgl xh8yej3",children:u.jsx(f,{errorType:t})})})}g.displayName=g.name+" [from "+i.id+"]",l.SaveAudienceError=_,l.WAWebBizBroadcastsManageAudiencePanelErrorModal=g}),226);
__d("WAWebBizBroadcastsSuccessfulContacts.react",["fbt","WAWebBizBroadcastsContactChatCell.react","WDSText.react","react"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react"));function c(e){var t=e.actions,n=e.contacts;return u.jsxs(u.Fragment,{children:[u.jsx("tbody",{children:u.jsx("tr",{children:u.jsxs("td",{colSpan:4,children:[u.jsx("div",{className:"x6pxu1d xd6izgl x1380le5 xefnzgg x3x0x6p xjm9jq1"}),u.jsx("div",{className:"x1phvje8 xcldk2z x16ovd2e x12xbjc7",children:u.jsx(r("WDSText.react"),{type:"Body2",colorName:"accentEmphasized",children:s._(/*BTDS*/"_j{\"*\":\"{number_of_recipients}\\u00a0destinataires\",\"_1\":\"1\\u00a0destinataire\"}",[s._plural(n.length,"number_of_recipients")])})})]})})}),u.jsx("tbody",{children:n.map(function(e,n){return u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(r("WAWebBizBroadcastsContactChatCell.react"),{contact:e})}),u.jsx("td",{className:"xxymvpz",children:u.jsx(r("WDSText.react"),{type:"Body1",colorName:"accent",children:e.phone})}),u.jsx("td",{}),u.jsx("td",{className:"x78zum5 x7v6yn8",children:u.jsx("div",{className:"x78zum5 x7v6yn8",children:t==null?void 0:t(e)})})]},e.phone+"-"+n)})})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WAWebBizBroadcastsManageAudiencePanel.react",["fbt","WAJids","WAWebBizBroadcastsAudienceUtils","WAWebBizBroadcastsDialog.react","WAWebBizBroadcastsDrawerReducer","WAWebBizBroadcastsErrorDetailsSection.react","WAWebBizBroadcastsFileProcessor","WAWebBizBroadcastsManageAudiencePanelErrorModal.react","WAWebBizBroadcastsSuccessfulContacts.react","WAWebBizBroadcastsTypedError","WAWebBroadcastListAction","WAWebBroadcastListIdUtils","WAWebBusinessBroadcastUserJourneyLogger","WAWebChatCollection","WAWebDrawerManager","WAWebModalManager","WAWebWidFactory","WDSButton.react","WDSIconIcDelete.react","WDSText.react","WDSTextField.react","WDSTooltip.react","asyncToGeneratorRuntime","countWhere","formatDate","react"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=o("react")),d=e||(e=r("react")),m=c.useEffect,p=c.useReducer,_=c.useState;function f(e){var t=e.errorList,a=e.validContactsData,i=p(o("WAWebBizBroadcastsDrawerReducer").reducer,{validContactsData:a,errorList:t}),l=i[0],u=i[1];m(function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.importedContactWizardViewed({num_total_contacts:a.length+t.length,num_error_contacts:t.length,num_duplicate_contacts:r("countWhere")(t,function(e){return e.errorType===o("WAWebBizBroadcastsTypedError").PhoneError.DUPLICATE}),num_invalid_contacts:r("countWhere")(t,function(e){return e.errorType===o("WAWebBizBroadcastsTypedError").PhoneError.INVALID}),num_non_wa_contacts:r("countWhere")(t,function(e){return e.errorType===o("WAWebBizBroadcastsTypedError").PhoneError.NOT_WHATSAPP_USER})})},[a,t]);var c=_(null),f=c[0],h=c[1],y=_(function(){var e=r("formatDate")(Date.now()/1e3,r("formatDate").DEFAULT_FORMAT);return s._(/*BTDS*/"Audience de diffusion cr\u00e9\u00e9e le {creation-date}",[s._param("creation-date",e)]).toString()}),C=y[0],b=y[1],v=_(null),S=v[0],R=v[1],L=l.errorList,E=l.validContactsData;function k(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.importedContactsSaveClicked({num_total_contacts:E.length+L.length,num_error_contacts:L.length}),n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(E.length<=1)return void o("WAWebModalManager").ModalManager.open(d.jsx(o("WAWebBizBroadcastsManageAudiencePanelErrorModal.react").WAWebBizBroadcastsManageAudiencePanelErrorModal,{errorType:o("WAWebBizBroadcastsManageAudiencePanelErrorModal.react").SaveAudienceError.INSUFFICIENT_RECIPIENTS}));h(null);var e=C.trim(),t=o("WAWebBroadcastListIdUtils").createBroadcastListJid(function(e){var t=o("WAWebWidFactory").createWid(e);return o("WAWebChatCollection").ChatCollection.get(t)!=null}),n=E.flatMap(function(e){var t=o("WAWebBizBroadcastsFileProcessor").normalizePhoneNumber(e.phone),n=o("WAJids").toPhoneUserJid(t),r=e.lid;if(r==null)return[];var a={lidJid:r,pnJid:n};return[a]});try{yield o("WAWebBroadcastListAction").addBroadcastListAction(t,n,e),R({name:e,recipientCount:n.length}),o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.contactImportSuccessViewed({num_total_contacts:E.length+L.length,num_error_contacts:L.length})}catch(e){o("WAWebModalManager").ModalManager.open(d.jsx(o("WAWebBizBroadcastsManageAudiencePanelErrorModal.react").WAWebBizBroadcastsManageAudiencePanelErrorModal,{errorType:o("WAWebBizBroadcastsManageAudiencePanelErrorModal.react").SaveAudienceError.UNKNOWN}))}})()}function I(e){b(e),f!=null&&h(null),e.trim()===""&&h(s._(/*BTDS*/"Veuillez donner un nom \u00e0 cette audience"))}function T(){S==null?o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.importedContactWizardCancelClicked():o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.contactImportSuccessCancelClicked(),o("WAWebDrawerManager").DrawerManager.closeDrawerMid()}var D;if(S!=null){var x;D=d.jsxs("div",{className:"x78zum5 xdt5ytf x1f0uite xs2akgl xl7twdi",children:[d.jsx(x=r("WDSText.react"),{type:"Headline1",colorName:"contentDefault",children:s._(/*BTDS*/"Votre nouvelle audience pour la diffusion est pr\u00eate")}),d.jsx(x,{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Utilisez votre t\u00e9l\u00e9phone pour cr\u00e9er une diffusion d\u2019entreprise et l\u2019envoyer \u00e0 votre nouvelle audience.")}),d.jsxs("div",{className:"xyi3aci xwf5gio x1p453bz x1suzm8a x1ucmu8n xb0esv5 xyo0t3i x1xrf6ya xscbp6u",children:[d.jsx(x,{type:"Body1",colorName:"contentDefault",children:S.name}),d.jsx(x,{type:"Body2",colorName:"contentDefault",children:s._(/*BTDS*/"_j{\"*\":\"{number_of_recipients}\\u00a0destinataires\",\"_1\":\"1\\u00a0destinataire\"}",[s._plural(S.recipientCount,"number_of_recipients")])})]})]})}else D=d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"x1p57kb1 xvtqlqk xvpt6g3 xdx6fka",children:d.jsx(r("WDSTextField.react"),{label:s._(/*BTDS*/"Nom de l\u2019audience"),defaultValue:C,onValueChange:I,onFocus:g,error:f!=null,errorText:f,maxCharacterCount:o("WAWebBizBroadcastsAudienceUtils").MAX_AUDIENCE_NAME_LENGTH})}),d.jsxs("table",{className:"xh8yej3",children:[d.jsx(r("WAWebBizBroadcastsErrorDetailsSection.react"),{errorList:L,contacts:E,onDeleteErrorItem:function(t){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.errorContactDeleteClicked(),u({type:"DELETE_ERROR_ITEM",payload:{errorItem:t}})},onDeleteAllErrorItems:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.allErrorContactsDeleteClicked(),u({type:"DELETE_ALL_ERROR_ITEMS"})},onUpdateContact:function(t,n){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.errorContactEditClicked(),u({type:"SAVE_EDITED_CONTACT",payload:{editedContact:t,originalIndex:n}})}}),d.jsx(r("WAWebBizBroadcastsSuccessfulContacts.react"),{contacts:E,actions:function(t){return d.jsx(r("WDSButton.react"),{size:"medium",variant:"borderless",Icon:r("WDSIconIcDelete.react"),onPress:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.contactDeleteClicked(),u({type:"DELETE_CONTACT",payload:{contact:t}})}})}})]})]});var $=L.length>0||C.length===0||C.length>o("WAWebBizBroadcastsAudienceUtils").MAX_AUDIENCE_NAME_LENGTH;return d.jsx(r("WAWebBizBroadcastsDialog.react"),{title:s._(/*BTDS*/"Audience de la diffusion"),onClose:T,testid:void 0,primaryAction:S==null&&d.jsx(r("WDSTooltip.react"),{disabled:!$,label:s._(/*BTDS*/"Vous devez corriger les erreurs de destinataire avant d\u2019enregistrer votre audience."),children:d.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Enregistrer l\u2019audience"),variant:"filled",onPress:k,testid:void 0,disabled:$})}),children:d.jsx("div",{className:"x1tvm86q x1hqvyuz x1p57kb1 xvpt6g3 x25e6zw xpsqkbl",children:D})})}f.displayName=f.name+" [from "+i.id+"]";function g(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.importedContactListNameEntered()}l.default=f}),226);
__d("WAWebWdsIllMarketingMessagesIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="wds-ill-marketing-messages";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=113,R=156;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 156 113",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),fill:"none",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M70.3647 0.750735C83.3647 0.650735 93.9747 10.7707 94.0647 23.5807L94.1147 32.1107C94.2147 44.9207 83.7347 55.0507 70.7347 55.1407H41.3047C28.3047 55.2407 17.6947 44.9207 17.6047 32.1107L17.4547 12.3107L11.9047 3.97073C11.1047 2.75073 12.1047 0.750735 13.6647 0.750735H70.3647Z",fill:"#FCF5EB"}),c.jsx("path",{d:"M70.3647 0.750735C83.3647 0.650735 93.9747 10.7707 94.0647 23.5807L94.1147 32.1107C94.2147 44.9207 83.7347 55.0507 70.7347 55.1407H41.3047C28.3047 55.2407 17.6947 44.9207 17.6047 32.1107L17.4547 12.3107L11.9047 3.97073C11.1047 2.75073 12.1047 0.750735 13.6647 0.750735H70.3647ZM70.3647 0.750735H70.3547",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M80.7947 38.8805C73.8557 38.9674 67.2309 41.787 62.3578 46.7276C57.4846 51.6681 54.7562 58.331 54.7647 65.2705L54.8247 73.6205C54.9247 87.8805 66.7247 99.9005 81.1947 99.8105H113.955C128.425 99.7105 140.085 87.8805 139.985 73.6205L139.855 51.5705L145.915 42.2205C146.785 40.8405 145.655 38.8605 143.915 38.8805H80.7747H80.7847H80.7947Z",fill:"#FCF5EB",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),c.jsx("path",{d:"M74.9747 61.3107L122.395 60.9907M74.7347 75.8607L109.075 75.6307",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round"}),c.jsx("path",{d:"M18.5046 59.8005L23.4346 54.7805L34.9446 66.0205C36.2446 67.4205 36.2446 69.5505 35.0446 70.8505C34.3985 71.4693 33.5436 71.8231 32.6491 71.8416C31.7546 71.8601 30.8858 71.5421 30.2146 70.9505L18.5146 59.8005H18.5046ZM44.1446 38.3405C45.8811 38.043 47.4337 37.0812 48.4733 35.6589C49.513 34.2366 49.9582 32.4654 49.7146 30.7205C49.3878 28.9693 48.3887 27.4155 46.931 26.3915C45.4734 25.3674 43.6729 24.9543 41.9146 25.2405C41.042 25.3915 40.2078 25.7133 39.4598 26.1873C38.7118 26.6614 38.0647 27.2784 37.5556 28.003C37.0465 28.7276 36.6855 29.5456 36.4931 30.41C36.3007 31.2745 36.2809 32.1684 36.4346 33.0405C36.9946 36.7605 40.4346 38.9905 44.1446 38.3405Z",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M44.7047 51.2506L51.3047 49.7606C52.3247 49.5806 52.8747 48.3706 52.4047 47.8106V47.6306C47.0347 36.3806 39.8847 26.0806 30.9647 17.5306C30.3147 16.6906 29.1047 16.9706 28.4647 17.8106L22.7847 26.8206C19.4447 32.3006 15.2647 36.9506 10.6247 41.4006L2.72466 47.0706C0.684661 48.7406 0.124661 51.7206 1.52466 53.7606L8.02466 62.9606C8.77801 64.0289 9.92406 64.755 11.2117 64.9799C12.4994 65.2049 13.8238 64.9102 14.8947 64.1606L22.6947 58.6806C29.7547 55.1506 37.1947 52.9206 44.7147 51.2506H44.7047Z",fill:"#25D366",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M20.3647 61.2806L8.1947 44.1006M54.2847 22.1306L64.1547 14.7406M55.4547 33.6506L67.7747 33.6606M44.8347 18.6806L48.2947 6.85059",stroke:"#111B21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M135.425 111.751C137.958 111.822 140.48 111.386 142.843 110.469C145.206 109.551 147.362 108.171 149.184 106.41C151.006 104.648 152.458 102.54 153.455 100.209C154.451 97.8789 154.972 95.3728 154.986 92.8383C155.001 90.3037 154.509 87.7918 153.54 85.4499C152.571 83.1081 151.143 80.9834 149.341 79.2007C147.54 77.4181 145.4 76.0133 143.048 75.0688C140.696 74.1243 138.179 73.6592 135.645 73.7008C130.671 73.7824 125.928 75.8079 122.429 79.3436C118.931 82.8794 116.956 87.6443 116.927 92.6182C116.898 97.5921 118.818 102.38 122.275 105.956C125.733 109.532 130.453 111.612 135.425 111.751Z",fill:"#06CF9C",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10}),c.jsx("path",{d:"M135.495 82.3306L135.655 93.4106L142.925 100.781",stroke:"#111B21",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.WdsIllMarketingMessagesIcon=m}),98);
__d("WAWebBizBroadcastsUploadModal.react",["fbt","WALogger","WAWebBizBroadcastsErrorDialog.react","WAWebBizBroadcastsFeatureEligibilityModal.react","WAWebBizBroadcastsFilePicker.react","WAWebBizBroadcastsFileProcessor","WAWebBizBroadcastsFileTypeValidator","WAWebBizBroadcastsLoadingModal.react","WAWebBizBroadcastsManageAudiencePanel.react","WAWebBizBroadcastsTemplateParsingUtils","WAWebBizBroadcastsTypedError","WAWebBusinessBroadcastUserJourneyLogger","WAWebDrawerManager","WAWebModal.react","WAWebModalManager","WAWebWdsIllMarketingMessagesIcon.react","WDSButton.react","WDSText.react","WDSTextualLink.react","asyncToGeneratorRuntime","react"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=c||(c=r("react")),m=(u||(u=o("react"))).useEffect,p={controlsStyle:{paddingTop:"xl7twdi",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",$$css:!0},title:{width:"xh8yej3",$$css:!0}},_=20;function f(e){return e.length>_}function g(e){window.setTimeout(e,200)}function h(t){var a=t.entryPoint,i=t.onCancel,l=o("WAWebBizBroadcastsFeatureEligibilityModal.react").useMarketingMessagesEligibility();if(m(function(){l!=null&&o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.contactImportPromptViewed({eligibility:l==null?void 0:l.status},a)},[l,a]),l==null)return d.jsx(r("WAWebBizBroadcastsLoadingModal.react"),{onCancel:i});if(l.status!=="SUCCESS")return d.jsx(o("WAWebBizBroadcastsFeatureEligibilityModal.react").WAWebBizBroadcastsFeatureEligibilityModal,{eligibility:l,onCancel:i});var u=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{yield o("WAWebBizBroadcastsFileProcessor").processFile(t,{onComplete:function(t,n){i(null,!0),g(function(){if(f(n)){var e={errorType:o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS,num_error_contacts:n.length,num_total_contacts:t.length};o("WAWebModalManager").ModalManager.open(d.jsx(o("WAWebBizBroadcastsErrorDialog.react").WAWebBizBroadcastsErrorDialog,{errorType:o("WAWebBizBroadcastsTypedError").FileError.TOO_MANY_ERRORS,extraAttributes:e,onClose:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.reviewFileErrorsPromptCancelClicked(e),o("WAWebModalManager").ModalManager.close()},onContinue:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.reviewFileErrorsPromptContinueClicked(e),o("WAWebModalManager").ModalManager.close(),o("WAWebDrawerManager").DrawerManager.openDrawerMid(d.jsx(r("WAWebBizBroadcastsManageAudiencePanel.react"),{validContactsData:t,errorList:n}))}}))}else o("WAWebDrawerManager").DrawerManager.openDrawerMid(d.jsx(r("WAWebBizBroadcastsManageAudiencePanel.react"),{validContactsData:t,errorList:n}))})},onError:function(t){if(t instanceof o("WAWebBizBroadcastsTypedError").WAWebBizBroadcastsTypedError){var e=o("WAWebBizBroadcastsTypedError").FileError.cast(t.type);if(e!=null)return i(null,!0),void g(function(){o("WAWebModalManager").ModalManager.open(d.jsx(o("WAWebBizBroadcastsErrorDialog.react").WAWebBizBroadcastsErrorDialog,{errorType:e,onClose:function(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.reviewFileErrorsPromptCancelClicked({errorType:e}),o("WAWebModalManager").ModalManager.close()}}))})}throw t}})}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error in processFile: ",""])),t).sendLogs("audience-import")}});return function(n){return t.apply(this,arguments)}})(),c=d.jsxs("div",{className:"x78zum5 x7v6yn8 xh8yej3 x1f0uite xs2akgl",children:[d.jsx(r("WDSButton.react"),{label:s._(/*BTDS*/"Annuler"),variant:"borderless",onPress:i,testid:void 0}),d.jsx(r("WAWebBizBroadcastsFilePicker.react"),{onFileSelected:u,acceptTypes:o("WAWebBizBroadcastsFileTypeValidator").getAcceptTypesString([o("WAWebBizBroadcastsFileTypeValidator").FileType.EXCEL,o("WAWebBizBroadcastsFileTypeValidator").FileType.CSV]),buttonText:s._(/*BTDS*/"Importer un fichier"),testid:void 0})]});return d.jsx(o("WAWebModal.react").Modal,{type:o("WAWebModal.react").ModalTheme.BusinessBroadcastUploadModal,actions:c,onOverlayClick:i,testid:void 0,controlsStyle:p.controlsStyle,children:d.jsxs("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1f0uite xh8yej3",children:[d.jsx("div",{className:"x78zum5 xl56j7k",children:d.jsx(o("WAWebWdsIllMarketingMessagesIcon.react").WdsIllMarketingMessagesIcon,{})}),d.jsx(r("WDSText.react"),{type:"Headline2",colorName:"contentDefault",xstyle:p.title,children:s._(/*BTDS*/"Ciblez une client\u00e8le plus large plus rapidement")}),d.jsx(r("WDSText.react"),{type:"Body2",colorName:"contentDeemphasized",children:s._(/*BTDS*/"Pour cr\u00e9er une audience pour la diffusion d\u2019entreprise, {=m1}, ajoutez vos destinataires et importez le fichier.",[s._implicitParam("=m1",d.jsx(r("WDSTextualLink.react"),babelHelpers.extends({},o("WAWebBizBroadcastsTemplateParsingUtils").getTemplateLinkProps(),{onClick:y,children:s._(/*BTDS*/"enregistrez le mod\u00e8le\u00a0CSV")})))])})]})})}h.displayName=h.name+" [from "+i.id+"]";function y(){o("WAWebBusinessBroadcastUserJourneyLogger").BusinessBroadcastUserJourneyLogger.templateSaveClicked()}l.WAWebBizBroadcastsUploadModal=h}),226);